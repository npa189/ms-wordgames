// Copyright (C) Microsoft Corporation. All rights reserved.

(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{GqiE:function(e,t,n){"use strict";n.r(t);var i=n("CcnG"),a=function(){return function(){}}(),o=n("pMnS"),s=n("ueff"),r=n("lOTE"),l=n("lZf+"),u=n("az17"),c=n("T8a3"),p=n("A+oz"),h=n("+fAV"),d=n("bNzf"),g=n("NSTC"),m=n("uu60"),f=n("v9N2"),b=n("xewl"),v=n("wnWa"),y=n("Y7qL"),k=n("ztp1"),C=n("dHXd"),w=n("OI7E"),M=n("8ZQX"),P=n("jeIa"),O=n("e/6H"),S=n("GbEK"),I=n("A5jq"),_=n("hs/0"),x=n("gAQH"),z=n("altv"),D=n("Eo4b"),T=n("Ip0R"),G=n("gIju"),L=n("v+6v"),N=n("AKKT"),A=n("EoHo"),R=n("fA5T"),B=n("8smc"),F=i["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:100%;height:100%}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%;height:3rem;font-size:1.25rem;color:#fff}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:auto;line-height:3rem;font-weight:700;text-align:center}[_nghost-%COMP%]   .level-difficulty[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;background-color:#000;color:#fff;height:2rem;width:100%;padding:0 .5rem}[_nghost-%COMP%]   .level-difficulty[_ngcontent-%COMP%]   .difficulty-label[_ngcontent-%COMP%]{font-size:1rem;margin:auto 0}[_nghost-%COMP%]   .level-difficulty[_ngcontent-%COMP%]   .level-icons[_ngcontent-%COMP%]{margin:auto 0 auto auto}[_nghost-%COMP%]   .level-difficulty[_ngcontent-%COMP%]   .level-icons[_ngcontent-%COMP%]   .challenges-difficulty-icon[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;line-height:1rem}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;width:100%;text-align:center;color:#fff;z-index:0}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin:1rem auto 0;width:60%}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .challenge-ribbon[_ngcontent-%COMP%]{position:relative;padding-top:60%;width:43%;display:inline-block}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   p.mode-name[_ngcontent-%COMP%]{margin:0 auto auto;font-size:1.5rem;font-weight:700}@media only screen and (max-height:700px){[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-top:.5rem}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   p.mode-name[_ngcontent-%COMP%]{font-size:1.25rem}}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:100%;display:inline-block}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;width:100%;z-index:0}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   .challenge-button[_ngcontent-%COMP%]{margin:auto;height:2.5rem;width:8rem;font-size:1.5rem;line-height:1.5rem}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   .challenge-button[_ngcontent-%COMP%]::before{height:calc(100% + .8rem);width:calc(100% + .8rem);left:-.4rem;top:-.4rem}@media only screen and (max-width:750px),(max-height:700px){[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   .challenge-button[_ngcontent-%COMP%]{height:1.5rem;width:6rem;font-size:.75rem;line-height:.75rem}[_nghost-%COMP%]   .challenge-info-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   .challenge-button[_ngcontent-%COMP%]::before{height:calc(100% + .6rem);width:calc(100% + .6rem);left:-.3rem;top:-.3rem}}[_nghost-%COMP%]   .wordament-gradient[_ngcontent-%COMP%]{background:-webkit-gradient(linear,right top,left top,from(#50000c),to(#830014));background:linear-gradient(270deg,#50000c 0,#830014 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#830014", endColorstr="#50000c", GradientType=1)}[_nghost-%COMP%]   .crossword-gradient[_ngcontent-%COMP%]{background:-webkit-gradient(linear,right top,left top,from(#0b443b),to(#15826f));background:linear-gradient(270deg,#0b443b 0,#15826f 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#15826F", endColorstr="#0B443B", GradientType=1)}[_nghost-%COMP%]   .wordTwister-gradient[_ngcontent-%COMP%]{background:-webkit-gradient(linear,right top,left top,from(#361349),to(#794598));background:linear-gradient(270deg,#361349 0,#794598 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#794598", endColorstr="#361349", GradientType=1)}']],data:{}});function E(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","challenges-difficulty-icon"]],null,null,null,null,null))],null,null)}function U(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","challenge-ribbon challenges-challenge-done-ribbon"]],null,null,null,null,null))],null,null)}function j(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"div",[],[[8,"className",0]],null,null,null,null))],null,function(e,t){e(t,0,0,"game-logo map-"+t.component.game+"-logo")})}function W(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,5,"div",[["appClientLanguage",""],["class","header"]],[[4,"backgroundColor",null]],null,null,null,null)),i["\u0275did"](1,16384,null,0,G.a,[i.ElementRef,i.Renderer2,L.a],null,null),(e()(),i["\u0275eld"](2,0,null,null,3,"div",[["class","title"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](4,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](6,0,null,null,6,"div",[["class","level-difficulty"]],null,null,null,null,null)),(e()(),i["\u0275eld"](7,0,null,null,2,"div",[["class","difficulty-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](8,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](10,0,null,null,2,"div",[["class","level-icons"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,E)),i["\u0275did"](12,278528,null,0,T.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275eld"](13,0,null,null,16,"div",[["class","challenge-info-container"]],null,null,null,null,null)),i["\u0275prd"](512,null,T["\u0275NgClassImpl"],T["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](15,278528,null,0,T.NgClass,[T["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](16,{"crossword-gradient":0,"wordament-gradient":1,"wordTwister-gradient":2}),(e()(),i["\u0275eld"](17,0,null,null,4,"div",[["class","logo"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,U)),i["\u0275did"](19,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,j)),i["\u0275did"](21,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](22,0,null,null,3,"p",[["appClientLanguage",""],["class","mode-name"]],null,null,null,null,null)),i["\u0275did"](23,16384,null,0,G.a,[i.ElementRef,i.Renderer2,L.a],null,null),(e()(),i["\u0275ted"](24,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](26,0,null,null,3,"div",[["class","button-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](27,0,null,null,2,"button",[["class","challenge-button ui-button blue"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleClick()&&i),i},null,null)),(e()(),i["\u0275ted"](28,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],function(e,t){var n=t.component;e(t,12,0,n.arrayFrom(n.difficulty.level+1));var i=e(t,16,0,"crossword"===n.game,"wordament"===n.game,"wordTwister"===n.game);e(t,15,0,"challenge-info-container",i),e(t,19,0,n.challengeCompleted),e(t,21,0,!n.challengeCompleted)},function(e,t){var n=t.component;e(t,0,0,n.headerColor),e(t,4,0,i["\u0275unv"](t,4,0,i["\u0275nov"](t,5).transform("todaysDailyChallenge"))),e(t,8,0,i["\u0275unv"](t,8,0,i["\u0275nov"](t,9).transform(n.difficulty.label))),e(t,24,0,i["\u0275unv"](t,24,0,i["\u0275nov"](t,25).transform(n.challengeLabel[n.game]))),e(t,28,0,i["\u0275unv"](t,28,0,i["\u0275nov"](t,29).transform("play")))})}var H=n("K2Wp"),q=n("c9ZP"),J=n("JscW"),X=i["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:100%;height:100%}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%;height:3rem;font-size:1.25rem;color:#fff}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:auto;line-height:3rem;font-weight:700;text-align:center}[_nghost-%COMP%]   .gem-collector-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;width:100%;color:#fff}[_nghost-%COMP%]   .gem-collector-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;width:100%;z-index:0}@media only screen and (max-height:800px){[_nghost-%COMP%]   .gem-collector-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:2rem}}[_nghost-%COMP%]   .gem-collector-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{margin:auto;height:2.5rem;width:8rem;font-size:1.5rem;line-height:1.5rem}@media only screen and (max-width:750px),(max-height:700px){[_nghost-%COMP%]   .gem-collector-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{height:1.5rem;width:6rem;font-size:.75rem;line-height:.75rem}}[_nghost-%COMP%]   .gem-collector-container[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]::before{height:calc(100% + .8rem);width:calc(100% + .8rem);left:-.4rem;top:-.4rem}[_nghost-%COMP%]   .gem-collector-container.wordament[_ngcontent-%COMP%]{background:-webkit-gradient(linear,right top,left top,from(#50000c),to(#830014));background:linear-gradient(270deg,#50000c 0,#830014 100%);z-index:1}[_nghost-%COMP%]   .gem-collector-container.wordTwister[_ngcontent-%COMP%]{background:-webkit-gradient(linear,left top,right top,from(#7a459b),color-stop(53%,#552d70),to(#361549));background:linear-gradient(to right,#7a459b 0,#552d70 53%,#361549 100%);z-index:1}[_nghost-%COMP%]   .gem-collector-container[_ngcontent-%COMP%]   .wordament[_ngcontent-%COMP%]{background:#830115;background:-webkit-gradient(linear,left top,right top,from(#830115),color-stop(53%,#6b0010),to(#4f000b));background:linear-gradient(to right,#830115 0,#6b0010 53%,#4f000b 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#830115", endColorstr="#4f000b", GradientType=1)}[_nghost-%COMP%]   .gem-collector-container[_ngcontent-%COMP%]   .wordTwister[_ngcontent-%COMP%]{background:#7a459b;background:-webkit-gradient(linear,left top,right top,from(#7a459b),color-stop(53%,#552d70),to(#361549));background:linear-gradient(to right,#7a459b 0,#552d70 53%,#361549 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#7a459b", endColorstr="#361549", GradientType=1)}']],data:{}});function K(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","play-button ui-button green"]],null,[[null,"click"]],function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.handleDifficultySelect(a.GameDifficulty.Easy)&&i),i},null,null)),(e()(),i["\u0275ted"](1,null,[""," "])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform("easy")))})}function V(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","play-button ui-button yellow"]],null,[[null,"click"]],function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.handleDifficultySelect(a.GameDifficulty.Medium)&&i),i},null,null)),(e()(),i["\u0275ted"](1,null,[""," "])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform("medium")))})}function Y(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","play-button ui-button red"]],null,[[null,"click"]],function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.handleDifficultySelect(a.GameDifficulty.Hard)&&i),i},null,null)),(e()(),i["\u0275ted"](1,null,[""," "])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform("hard")))})}function Z(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","play-button ui-button gold"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleResumeClick()&&i),i},null,null)),(e()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform("resume")))})}function Q(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","play-button ui-button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleNewGameClick()&&i),i},null,null)),(e()(),i["\u0275ted"](1,null,[" ",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform("newGame")))})}function $(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","play-button ui-button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleBackClick()&&i),i},null,null)),(e()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform("backButton")))})}function ee(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,12,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,K)),i["\u0275did"](2,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,V)),i["\u0275did"](4,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Y)),i["\u0275did"](6,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Z)),i["\u0275did"](8,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Q)),i["\u0275did"](10,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,$)),i["\u0275did"](12,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.tab===n.Tabs.DifficultySelect),e(t,4,0,n.tab===n.Tabs.DifficultySelect),e(t,6,0,n.tab===n.Tabs.DifficultySelect),e(t,8,0,n.tab===n.Tabs.ActionsSelect),e(t,10,0,n.tab===n.Tabs.ActionsSelect),e(t,12,0,n.tab===n.Tabs.ActionsSelect)},null)}function te(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","button-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,2,"button",[["class","play-button next-button ui-button blue"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handlePlayClick()&&i),i},null,null)),(e()(),i["\u0275ted"](2,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,2,0,i["\u0275unv"](t,2,0,i["\u0275nov"](t,3).transform("play")))})}function ne(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","header"]],[[4,"backgroundColor",null]],null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,2,"div",[["class","title"]],null,null,null,null,null)),(e()(),i["\u0275ted"](2,null,[" "," "])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](4,0,null,null,5,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,0,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,ee)),i["\u0275did"](7,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,te)),i["\u0275did"](9,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,7,0,n.single),e(t,9,0,!n.single)},function(e,t){var n=t.component;e(t,0,0,n.headerColor),e(t,2,0,i["\u0275unv"](t,2,0,i["\u0275nov"](t,3).transform("quickPlay"))),e(t,4,0,"gem-collector-container "+n.game),e(t,5,0,"img map-quick-play-"+n.game)})}var ie=n("gmlh"),ae=n("D3hn"),oe=n("AXKR"),se=i["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:100%;height:100%}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%;height:3rem;font-size:1.25rem;color:#fff}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:auto;line-height:3rem;font-weight:700;text-align:center}[_nghost-%COMP%]   .sunday-puzzles-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;width:100%;color:#fff}[_nghost-%COMP%]   .sunday-puzzles-container[_ngcontent-%COMP%]   .puzzles-container[_ngcontent-%COMP%]{margin:auto;display:-webkit-box;display:flex;width:100%;flex-wrap:wrap;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}[_nghost-%COMP%]   .sunday-puzzles-container[_ngcontent-%COMP%]   .no-puzzles[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;margin:auto;color:#fff;font-size:1.25rem;text-align:center;z-index:1}[_nghost-%COMP%]   .sunday-puzzles-container[_ngcontent-%COMP%]   .no-puzzles[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;width:100%;z-index:0}[_nghost-%COMP%]   .sunday-puzzles-container[_ngcontent-%COMP%]   .no-puzzles[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .maps-button[_ngcontent-%COMP%]{margin:auto;height:2.5rem;width:11rem;font-size:1.5rem;line-height:1.5rem}[_nghost-%COMP%]   .sunday-puzzles-container[_ngcontent-%COMP%]   .no-puzzles[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .maps-button[_ngcontent-%COMP%]::before{height:calc(100% + .8rem);width:calc(100% + .8rem);left:-.4rem;top:-.4rem}@media only screen and (max-width:750px),(max-height:700px){[_nghost-%COMP%]   .sunday-puzzles-container[_ngcontent-%COMP%]   .no-puzzles[_ngcontent-%COMP%]{font-size:1rem}[_nghost-%COMP%]   .sunday-puzzles-container[_ngcontent-%COMP%]   .no-puzzles[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .maps-button[_ngcontent-%COMP%]{height:1.5rem;width:6rem;font-size:.75rem;line-height:.75rem}[_nghost-%COMP%]   .sunday-puzzles-container[_ngcontent-%COMP%]   .no-puzzles[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .maps-button[_ngcontent-%COMP%]::before{height:calc(100% + .6rem);width:calc(100% + .6rem);left:-.3rem;top:-.3rem}}[_nghost-%COMP%]   .gradient[_ngcontent-%COMP%]{background:-webkit-gradient(linear,right top,left top,from(#0b443b),to(#15826f));background:linear-gradient(270deg,#0b443b 0,#15826f 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#15826F", endColorstr="#0B443B", GradientType=1)}']],data:{}});function re(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","no-puzzles"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[" "," "])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](3,0,null,null,3,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),i["\u0275eld"](4,0,null,null,2,"button",[["class","maps-button ui-button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleMapsButtonClick()&&i),i},null,null)),(e()(),i["\u0275ted"](5,null,[" "," "])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform("noSundayPuzzles"))),e(t,5,0,i["\u0275unv"](t,5,0,i["\u0275nov"](t,6).transform("showMapsLabel")))})}function le(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"app-map-sunday-puzzle-view",[],null,[[null,"onClick"]],function(e,t,n){var i=!0;return"onClick"===t&&(i=!1!==e.component.handlePuzzleSelect(n)&&i),i},ie.b,ie.a)),i["\u0275did"](1,245760,null,0,ae.a,[],{puzzleData:[0,"puzzleData"]},{onClick:"onClick"})],function(e,t){e(t,1,0,t.context.$implicit)},null)}function ue(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","puzzles-container"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,le)),i["\u0275did"](2,278528,null,0,T.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.puzzles)},null)}function ce(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","header"]],[[4,"backgroundColor",null]],null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,3,"div",[["class","title"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](3,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](5,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,re)),i["\u0275did"](7,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,ue)),i["\u0275did"](9,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,7,0,0===n.puzzles.length),e(t,9,0,n.puzzles.length>0)},function(e,t){var n=t.component;e(t,0,0,n.headerColor),e(t,3,0,i["\u0275unv"](t,3,0,i["\u0275nov"](t,4).transform("sundayPuzzles"))),e(t,5,0,"sunday-puzzles-container gradient "+(n.puzzles.length>0?"sunday-puzzle-sm-container":""))})}var pe,he,de,ge,me,fe,be,ve,ye,ke,Ce,we,Me,Pe,Oe,Se=n("YYwF"),Ie=n("ZYjt"),_e=n("S4q0"),xe=n("m2h9"),ze=n("WQtd"),De=n("oFL9"),Te=n("wloX"),Ge=function(){return function(e,t,n,i,a,o,s,r,l){this.mapData=e,this.puzzlesData=t,this.bonusPuzzlesData=n,this.game=i,this.state=a,this.localization=o,this.currentPuzzleIndex=s,this.settings=r,this.storageKey=l}}(),Le=n("LH7e"),Ne=n("Pqep"),Ae=function(e){return e.FTUEComplete="complete",e.Play="play",e.ChestEarned="chest",e.MapComplete="complete",e.MapPerfected="mapPerfected",e.BonusPuzzleUnlocked="bonusPuzzleUnlocked",e.BonusPuzzleUnlockedComplete="bonusPuzzleUnlockedComplete",e.GateOpened="gateOpened",e.GateOpenComplete="gateOpenComplete",e.CancelAutoSelect="cancelAutoSelect",e}({}),Re=function(e){return e.Preload="preload",e.Started="started",e.Map="map",e.FTUE="ftue",e}({}),Be=n("FO5i"),Fe=n("o5E4"),Ee=n("jpRM"),Ue=n("Jxx4"),je=n("MwoO"),We=n("hNM/"),He=n("WYXw"),qe=n("buEt"),Je=n("ny24"),Xe=n("Lepu"),Ke=n("zfm3"),Ve=n("mrSG"),Ye=n("mXg+"),Ze=function(e){return e[e.PORTRAIT=0]="PORTRAIT",e[e.LANDSCAPE=1]="LANDSCAPE",e}({}),Qe=function(){return function(){}}(),$e=function(){function e(){}return e.calculateScreenMetrics=function(e,t,n,i,a){var o;void 0===n&&(n=Ze.LANDSCAPE);var s=Ye.a.map;this.screenMetrics=new Qe,this.screenMetrics.windowWidth=window.innerWidth,this.screenMetrics.windowHeight=window.innerHeight,this.screenMetrics.defaultGameWidth=e,this.screenMetrics.defaultGameHeight=t,(this.screenMetrics.windowWidth<this.screenMetrics.windowHeight&&n===Ze.LANDSCAPE||this.screenMetrics.windowHeight<this.screenMetrics.windowWidth&&n===Ze.PORTRAIT)&&(this.screenMetrics.windowWidth=(o=[this.screenMetrics.windowHeight,this.screenMetrics.windowWidth])[0],this.screenMetrics.windowHeight=o[1]),i&&a?(this.screenMetrics.maxGameWidth=i,this.screenMetrics.maxGameHeight=a):n===Ze.LANDSCAPE?(this.screenMetrics.maxGameWidth=Math.round(this.screenMetrics.defaultGameWidth*(s.maxGameWidth/s.defaultGameWidth)),this.screenMetrics.maxGameHeight=Math.round(this.screenMetrics.defaultGameHeight*(s.maxGameHeight/s.defaultGameHeight))):(this.screenMetrics.maxGameWidth=Math.round(this.screenMetrics.defaultGameWidth*(s.maxGameHeight/s.defaultGameHeight)),this.screenMetrics.maxGameHeight=Math.round(this.screenMetrics.defaultGameHeight*(s.maxGameWidth/s.defaultGameWidth)));var r=this.screenMetrics.windowWidth/this.screenMetrics.windowHeight;return r>(n===Ze.LANDSCAPE?s.defaultGameWidth/s.defaultGameHeight:s.defaultGameHeight/s.defaultGameWidth)?(this.screenMetrics.gameHeight=this.screenMetrics.defaultGameHeight,this.screenMetrics.gameWidth=2*Math.ceil(this.screenMetrics.gameHeight*r*.5),this.screenMetrics.gameWidth=Math.min(this.screenMetrics.gameWidth,this.screenMetrics.maxGameWidth),this.screenMetrics.offsetX=.5*(this.screenMetrics.gameWidth-this.screenMetrics.defaultGameWidth),this.screenMetrics.offsetY=0):(this.screenMetrics.gameWidth=this.screenMetrics.defaultGameWidth,this.screenMetrics.gameHeight=2*Math.ceil(this.screenMetrics.gameWidth/r*.5),this.screenMetrics.gameHeight=Math.min(this.screenMetrics.gameHeight,this.screenMetrics.maxGameHeight),this.screenMetrics.offsetX=0,this.screenMetrics.offsetY=.5*(this.screenMetrics.gameHeight-this.screenMetrics.defaultGameHeight)),this.screenMetrics.scaleX=this.screenMetrics.windowWidth/this.screenMetrics.gameWidth,this.screenMetrics.scaleY=this.screenMetrics.windowHeight/this.screenMetrics.gameHeight,this.screenMetrics},e}(),et=function(){function e(){}return e.toCamelCase=function(e){return e.replace(/[^A-Za-z0-9]/g," ").replace(/^\w|[A-Z]|\b\w|\s+/g,function(e,t){return 0==+e||"-"===e||"."===e?"":0===t?e.toLowerCase():e.toUpperCase()})},e.toPascalCase=function(t){var n=e.toCamelCase(t);return n[0].toUpperCase()+n.substr(1)},e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})},e}(),tt=function(){function e(){}return e.getFramesWithKey=function(e,t){return Array.apply(null,{length:t}).map(Number.call,Number).map(function(t){return e+"/"+t})},e}(),nt=function(e){return e[e.Crossword=0]="Crossword",e[e.WordTwister=1]="WordTwister",e[e.Wordament=2]="Wordament",e}({}),it=function(e){return e.Preload="preload",e.Ftue="ftue",e.Map="map",e.Settings="settings",e.Paused="paused",e}({}),at=function(e){return e.ChestEarnComplete="chestEarnComplete",e.BonusLevelUnlockComplete="bonusPuzzleUnlockedComplete",e.CancelLevelAutoSelect="cancelAutoSelect",e.MapPerfected="mapPerfected",e}({});function ot(e,t){var n=this.game.input;if(!n.pollLocked){void 0===t&&(t=!1),void 0!==e.button&&(this.button=e.button),this.isMouse&&this.updateButtons(e),this.clientX=e.clientX,this.clientY=e.clientY,this.pageX=e.pageX,this.pageY=e.pageY,this.screenX=e.screenX,this.screenY=e.screenY,this.screenY===this.pageY&&this.pageY===this.clientY&&(this.pageY-=st(),this.clientY-=st(),this.pageX-=rt(),this.clientX-=rt()),this.isMouse&&n.mouse.locked&&!t&&(this.rawMovementX=e.movementX||e.mozMovementX||e.webkitMovementX||0,this.rawMovementY=e.movementY||e.mozMovementY||e.webkitMovementY||0,this.movementX+=this.rawMovementX,this.movementY+=this.rawMovementY),this.x=(this.pageX-this.game.scale.offset.x)*n.scale.x,this.y=(this.pageY-this.game.scale.offset.y)*n.scale.y,this.position.setTo(this.x,this.y),this.circle.x=this.x,this.circle.y=this.y,(n.multiInputOverride===Phaser.Input.MOUSE_OVERRIDES_TOUCH||n.multiInputOverride===Phaser.Input.MOUSE_TOUCH_COMBINE||n.multiInputOverride===Phaser.Input.TOUCH_OVERRIDES_MOUSE&&0===n.totalActivePointers)&&(n.activePointer=this,n.x=this.x,n.y=this.y,n.position.setTo(n.x,n.y),n.circle.x=n.x,n.circle.y=n.y),this.withinGame=this.game.scale.bounds.contains(this.pageX,this.pageY);for(var i=n.moveCallbacks.length;i--;)n.moveCallbacks[i].callback.call(n.moveCallbacks[i].context,this,this.x,this.y,t);return null===this.targetObject||this.game.paused&&!this.targetObject.noPause||!0!==this.targetObject.isDragged?n.interactiveItems.total>0&&this.processInteractiveObjects(t):!1===this.targetObject.update(this)&&(this.targetObject=null),this}}function st(){for(var e=window,t=0;e.parent!==e;)t+=lt(e.frameElement),e=e.parent;return t}function rt(){for(var e=window,t=0;e.parent!==e;)t+=ut(e.frameElement),e=e.parent;return t}function lt(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}function ut(e){for(var t=0;e;)t+=e.offsetLeft,e=e.offsetParent;return t}pe||(pe={}),he||(he={}),function(e){var t=function(){function e(){}return e.getName=function(){return"animations"},e.getJSONArray=function(){return"assets/games/map/images/animations.json"},e.getPNG=function(){return"assets/games/map/images/animations.png"},e}();e.ImagesAnimations=t,function(e){e.Frames=function(e){return e.IdleBurst="idle-burst/0",e.IdleBurst1="idle-burst/1",e.IdleBurst2="idle-burst/2",e.IdleBurst3="idle-burst/3",e.IdleBurst4="idle-burst/4",e.IdleBurst5="idle-burst/5",e.IdleBurst6="idle-burst/6",e.IdleBurst7="idle-burst/7",e.IdleBurst8="idle-burst/8",e.IdleBurst9="idle-burst/9",e.IdleBurst10="idle-burst/10",e.IdleBurst11="idle-burst/11",e.IdleBurst12="idle-burst/12",e.NodeUnlock="node-unlock/0",e.NodeUnlock1="node-unlock/1",e.NodeUnlock2="node-unlock/2",e.NodeUnlock3="node-unlock/3",e.NodeUnlock4="node-unlock/4",e.NodeUnlock5="node-unlock/5",e.NodeUnlock6="node-unlock/6",e.NodeUnlock7="node-unlock/7",e.NodeUnlock8="node-unlock/8",e.NodeUnlock9="node-unlock/9",e.NodeUnlock10="node-unlock/10",e.NodeUnlock11="node-unlock/11",e.NodeUnlock12="node-unlock/12",e.NodeUnlock13="node-unlock/13",e.NodeUnlock14="node-unlock/14",e.ThreeStar="three-star/0",e.ThreeStar1="three-star/1",e.ThreeStar2="three-star/2",e.ThreeStar3="three-star/3",e.ThreeStar4="three-star/4",e.ThreeStar5="three-star/5",e.ThreeStar6="three-star/6",e.ThreeStar7="three-star/7",e.ThreeStar8="three-star/8",e.ThreeStar9="three-star/9",e.ThreeStar10="three-star/10",e.ThreeStar11="three-star/11",e.ThreeStar12="three-star/12",e.ThreeStar13="three-star/13",e.ThreeStar14="three-star/14",e.ThreeStar15="three-star/15",e.ThreeStar16="three-star/16",e.ThreeStar17="three-star/17",e}(e.Frames||{})}(t=e.ImagesAnimations||(e.ImagesAnimations={}));var n=function(){function e(){}return e.getName=function(){return"common"},e.getJSONArray=function(){return"assets/games/map/images/common.json"},e.getPNG=function(){return"assets/games/map/images/common.png"},e}();e.ImagesCommon=n,function(e){e.Frames=function(e){return e.BonusLevelButtonGold="bonus-level-button-gold.png",e.BonusLevelButton="bonus-level-button.png",e.BonusLockBackground="bonus-lock-background.png",e.BonusLock="bonus-lock.png",e.BonusStarBig="bonus-star-big.png",e.BonusStarSmall="bonus-star-small.png",e.EndGateFenceOverlay="end-gate-fence-overlay.png",e.EndGate="end-gate.png",e.EndLock="end-lock.png",e.EndMapLock="end-map-lock.png",e.FtueArrow="ftue-arrow.png",e.GateStar="gate-star.png",e.LevelButtonGoldHover="level-button-gold-hover.png",e.LevelButtonGold="level-button-gold.png",e.LevelButtonHover="level-button-hover.png",e.LevelButton="level-button.png",e.MapEnd="map-end.jpg",e.Pointer="pointer.png",e.ScrollerDark="scroller-dark.png",e.Scroller="scroller.png",e.StarBig="star-big.png",e.StarSmall="star-small.png",e.TooltipBg="tooltip-bg.png",e}(e.Frames||{})}(n=e.ImagesCommon||(e.ImagesCommon={}));var i=function(){function e(){}return e.getName=function(){return"crossword-components"},e.getJSONArray=function(){return"assets/games/map/images/crossword/crossword-components.json"},e.getPNG=function(){return"assets/games/map/images/crossword/crossword-components.png"},e}();e.ImagesCrosswordCrosswordComponents=i,function(e){e.Frames=function(e){return e.BonusLevelUnlockedBack="bonus-level-unlocked-back",e.ChestBigClosed="chest-big-closed",e.ChestBigOpen="chest-big-open",e.ChestSmallClosed="chest-small-closed",e.ChestSmallOpen="chest-small-open",e.CrosswordFooterTopOverlay="crossword-footer-top-overlay",e.CrosswordFooter="crossword-footer",e.CrosswordGateStar="crossword-gate-star",e.LevelLockedBkg="level-locked-bkg",e.LevelLocked="level-locked",e.LevelUnlockedBack="level-unlocked-back",e}(e.Frames||{})}(i=e.ImagesCrosswordCrosswordComponents||(e.ImagesCrosswordCrosswordComponents={}));var a=function(){function e(){}return e.getName=function(){return"jumble-components"},e.getJSONArray=function(){return"assets/games/map/images/jumble/jumble-components.json"},e.getPNG=function(){return"assets/games/map/images/jumble/jumble-components.png"},e}();e.ImagesJumbleJumbleComponents=a,function(e){e.Frames=function(e){return e.BonusLevelUnlockedBack="bonus-level-unlocked-back",e.ChestBigClosed="chest-big-closed",e.ChestBigOpen="chest-big-open",e.ChestSmallClosed="chest-small-closed",e.ChestSmallOpen="chest-small-open",e.JumbleFooterTopOverlay="jumble-footer-top-overlay",e.JumbleFooter="jumble-footer",e.JumbleGateStar="jumble-gate-star",e.LevelLockedBkg="level-locked-bkg",e.LevelLocked="level-locked",e.LevelUnlockedBack="level-unlocked-back",e}(e.Frames||{})}(a=e.ImagesJumbleJumbleComponents||(e.ImagesJumbleJumbleComponents={}));var o=function(){function e(){}return e.getName=function(){return"green-park"},e.getJSONArray=function(){return"assets/games/map/images/map-skins/green-park.json"},e.getPNG=function(){return"assets/games/map/images/map-skins/green-park.png"},e}();e.ImagesMapSkinsGreenPark=o,function(e){e.Frames=function(e){return e.GreenParkBackground="green-park-background.jpg",e.GreenParkGateArch="green-park-gate-arch.png",e.GreenParkGate="green-park-gate.png",e.GreenParkPatch="green-park-patch-0.png",e.GreenParkPatch1="green-park-patch-1.png",e.GreenParkPatch2="green-park-patch-2.png",e.GreenParkPatch3="green-park-patch-3.png",e.GreenParkPatch4="green-park-patch-4.png",e.GreenParkPatch5="green-park-patch-5.png",e.GreenParkPatch6="green-park-patch-6.png",e.GreenParkPatch7="green-park-patch-7.png",e.GreenParkPatch8="green-park-patch-8.png",e.GreenParkPatch9="green-park-patch-9.png",e.GreenParkTopOverlay="green-park-top-overlay.png",e.GreenParkTransition="green-park-transition.png",e}(e.Frames||{})}(o=e.ImagesMapSkinsGreenPark||(e.ImagesMapSkinsGreenPark={}));var s=function(){function e(){}return e.getName=function(){return"rock"},e.getJSONArray=function(){return"assets/games/map/images/map-skins/rock.json"},e.getPNG=function(){return"assets/games/map/images/map-skins/rock.png"},e}();e.ImagesMapSkinsRock=s,function(e){e.Frames=function(e){return e.RockBackground="rock-background.jpg",e.RockGate="rock-gate.png",e.RockPatch="rock-patch-0.png",e.RockPatch1="rock-patch-1.png",e.RockPatch2="rock-patch-2.png",e.RockPatch3="rock-patch-3.png",e.RockPatch4="rock-patch-4.png",e.RockPatch5="rock-patch-5.png",e.RockPatch6="rock-patch-6.png",e.RockTopOverlay="rock-top-overlay.png",e.RockTransition="rock-transition.png",e}(e.Frames||{})}(s=e.ImagesMapSkinsRock||(e.ImagesMapSkinsRock={}));var r=function(){function e(){}return e.getName=function(){return"royal-garden"},e.getJSONArray=function(){return"assets/games/map/images/map-skins/royal-garden.json"},e.getPNG=function(){return"assets/games/map/images/map-skins/royal-garden.png"},e}();e.ImagesMapSkinsRoyalGarden=r,function(e){e.Frames=function(e){return e.RoyalGardenBackground="royal-garden-background.jpg",e.RoyalGardenGateArch="royal-garden-gate-arch.png",e.RoyalGardenGate="royal-garden-gate.png",e.RoyalGardenPatch="royal-garden-patch-0.png",e.RoyalGardenPatch1="royal-garden-patch-1.png",e.RoyalGardenPatch2="royal-garden-patch-2.png",e.RoyalGardenPatch3="royal-garden-patch-3.png",e.RoyalGardenPatch4="royal-garden-patch-4.png",e.RoyalGardenPatch5="royal-garden-patch-5.png",e.RoyalGardenPatch6="royal-garden-patch-6.png",e.RoyalGardenTopOverlay="royal-garden-top-overlay.png",e.RoyalGardenTransition="royal-garden-transition.png",e}(e.Frames||{})}(r=e.ImagesMapSkinsRoyalGarden||(e.ImagesMapSkinsRoyalGarden={}));var l=function(){function e(){}return e.getName=function(){return"water"},e.getJSONArray=function(){return"assets/games/map/images/map-skins/water.json"},e.getPNG=function(){return"assets/games/map/images/map-skins/water.png"},e}();e.ImagesMapSkinsWater=l,function(e){e.Frames=function(e){return e.WaterBackground="water-background.jpg",e.WaterGateArch="water-gate-arch.png",e.WaterGateFenceOverlay="water-gate-fence-overlay.png",e.WaterGate="water-gate.png",e.WaterPatch="water-patch-0.png",e.WaterPatch1="water-patch-1.png",e.WaterPatch2="water-patch-2.png",e.WaterPatch3="water-patch-3.png",e.WaterPatch4="water-patch-4.png",e.WaterPatch5="water-patch-5.png",e.WaterPatch6="water-patch-6.png",e.WaterTopOverlay="water-top-overlay.png",e.WaterTransition="water-transition.png",e}(e.Frames||{})}(l=e.ImagesMapSkinsWater||(e.ImagesMapSkinsWater={}));var u=function(){function e(){}return e.getName=function(){return"wordament-components"},e.getJSONArray=function(){return"assets/games/map/images/wordament/wordament-components.json"},e.getPNG=function(){return"assets/games/map/images/wordament/wordament-components.png"},e}();e.ImagesWordamentWordamentComponents=u,function(e){!function(e){e.BonusLevelUnlockedBack="bonus-level-unlocked-back",e.ChestBigClosed="chest-big-closed",e.ChestBigOpen="chest-big-open",e.ChestSmallClosed="chest-small-closed",e.ChestSmallOpen="chest-small-open",e.LevelLockedBkg="level-locked-bkg",e.LevelLocked="level-locked",e.LevelUnlockedBack="level-unlocked-back",e.WordamentFooterTopOverlay="wordament-footer-top-overlay",e.WordamentFooter="wordament-footer",e.WordamentGateStar="wordament-gate-star"}(e.Frames||(e.Frames={}))}(u=e.ImagesWordamentWordamentComponents||(e.ImagesWordamentWordamentComponents={}))}(de||(de={})),function(e){var t=function(){function e(){}return e.getName=function(){return"locked"},e.getMP3=function(){return"assets/games/map/audio/locked.mp3"},e}();e.AudioLocked=t;var n=function(){function e(){}return e.getName=function(){return"puzzle-unlocked"},e.getMP3=function(){return"assets/games/map/audio/puzzle-unlocked.mp3"},e}();e.AudioPuzzleUnlocked=n}(ge||(ge={})),me||(me={}),fe||(fe={}),be||(be={}),ve||(ve={}),function(e){var t=function(){function e(){}return e.getName=function(){return"Crosswords_Monthly_1"},e.getJSON=function(){return"assets/games/map/Crosswords_Monthly_1.json"},e}();e.CrosswordsMonthly1=t;var n=function(){function e(){}return e.getName=function(){return"Crosswords_Monthly_2"},e.getJSON=function(){return"assets/games/map/Crosswords_Monthly_2.json"},e}();e.CrosswordsMonthly2=n;var i=function(){function e(){}return e.getName=function(){return"Monthly_1"},e.getJSON=function(){return"assets/games/map/Monthly_1.json"},e}();e.Monthly1=i;var a=function(){function e(){}return e.getName=function(){return"Monthly_2"},e.getJSON=function(){return"assets/games/map/Monthly_2.json"},e}();e.Monthly2=a;var o=function(){function e(){}return e.getName=function(){return"Monthly_3"},e.getJSON=function(){return"assets/games/map/Monthly_3.json"},e}();e.Monthly3=o}(ye||(ye={})),ke||(ke={}),Ce||(Ce={}),we||(we={}),Me||(Me={}),Pe||(Pe={}),function(e){var t=function(){function e(){}return e.getKey=function(){return"end-gate"},e.getJSONUrl=function(){return"assets/games/map/spine/end-gate.json"},e}();e.SpineEndGate=t;var n=function(){function e(){}return e.getKey=function(){return"green-park"},e.getJSONUrl=function(){return"assets/games/map/spine/green-park.json"},e}();e.SpineGreenPark=n;var i=function(){function e(){}return e.getKey=function(){return"rock"},e.getJSONUrl=function(){return"assets/games/map/spine/rock.json"},e}();e.SpineRock=i;var a=function(){function e(){}return e.getKey=function(){return"royal-garden"},e.getJSONUrl=function(){return"assets/games/map/spine/royal-garden.json"},e}();e.SpineRoyalGarden=a;var o=function(){function e(){}return e.getKey=function(){return"water"},e.getJSONUrl=function(){return"assets/games/map/spine/water.json"},e}();e.SpineWater=o}(Oe||(Oe={}));var ct,pt,ht,dt,gt,mt,ft=n("9Z1F"),bt=n("vLqr"),vt=Phaser.Loader,yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ve.__extends)(t,e),t.prototype.preload=function(){},t.prototype.init=function(e,t){this.messageService=e,this.debugManager=t},t.prototype.create=function(){var e=this,t=Ye.a.map;if(this.game.scale.scaleMode=Phaser.ScaleManager[t.scaleMode],"USER_SCALE"===t.scaleMode){var n=$e.screenMetrics;this.game.scale.setUserScale(n.scaleX,n.scaleY)}this.game.scale.pageAlignHorizontally=!0,this.game.stage.disableVisibilityChange=!0,console.log("DEBUG....................... "+t.debug+"\n           \nSCALE_MODE.................. "+t.scaleMode+"\n           \nDEFAULT_GAME_WIDTH.......... "+t.defaultGameWidth+"\n           \nDEFAULT_GAME_HEIGHT......... "+t.defaultGameHeight+"\n           \nMAX_GAME_WIDTH.............. "+t.maxGameWidth+"\n           \nMAX_GAME_HEIGHT............. "+t.maxGameHeight+"\n           \ngame.width.................. "+this.game.width+"\n           \ngame.height................. "+this.game.height),this.messageService.destroy$.subscribe(function(){console.info("deleting")}),this.messageService.onGameMessage.pipe(Object(ft.a)(function(t){return e.onMessageError(t),Object(bt.throwError)(t)}),Object(Je.a)(this.messageService.destroy$)).subscribe(function(t){return e.handleOnMessage(t)}),this.messageService.sendMessageToWrapper({connected:!0}),this.game.input.activePointer.move=ot},t.prototype.handleOnMessage=function(e){e.state===it.Preload?this.loadMapConfigJson(e,e.mapData.seed):e.state===it.Paused&&this.handleOnPause(e.pause)},t.prototype.loadMapConfigJson=function(e,t){var n=this.getSkinName(e.mapData.skinId),i=new vt(this.game);i.crossOrigin="anonymous",i.json(ye[n].getName(),ye[n].getJSON(),!0),i.onLoadComplete.add(this.startPreloader.bind(this,e,t),this),i.start()},t.prototype.getSkinName=function(e){switch(e){case"Crosswords_Monthly_1":return"CrosswordsMonthly1";case"Crosswords_Monthly_2":return"CrosswordsMonthly2";case"Monthly_1":return"Monthly1";case"Monthly_2":return"Monthly2";case"Monthly_3":return"Monthly3"}},t.prototype.startPreloader=function(e,t){this.game.state&&this.game.state.start("preloader",!0,!1,e,t,this.messageService,this.debugManager)},t.prototype.handleOnPause=function(e){this.game.paused=e},t.prototype.onMessageError=function(e){console.error(e)},t}(Phaser.State),kt=function(){function e(){}return e.loadAllAssets=function(){this.loadImages(),this.loadSpritesheets(),this.loadAtlases(),this.loadAudio(),this.loadAudiosprites(),this.loadBitmapFonts(),this.loadXML(),this.loadText(),this.loadScripts(),this.loadShaders(),this.loadMisc(),this.loadSpine()},e.initialize=function(e,t,n){this.game=e,this.skins=n,this.gameName=t.toLowerCase()+"-components",this.allowedAtlases.push(this.gameName)},e.waitForSoundDecoding=function(e,t){this.soundKeys.length>0?this.game.sound.setDecodedCallback(this.soundKeys,e,t):e.call(t)},e.loadImages=function(){for(var e in pe)if(!this.game.cache.checkImageKey(pe[e].getName()))for(var t=0,n=Object.getOwnPropertyNames(pe[e]);t<n.length;t++){var i=n[t];"getName"!==i&&-1!==i.indexOf("get")&&this.game.load.image(pe[e].getName(),pe[e][i]())}},e.loadSpritesheets=function(){for(var e in he)if(!this.game.cache.checkImageKey(he[e].getName())){for(var t=null,n=0,i=Object.getOwnPropertyNames(he[e]);n<i.length;n++){var a=i[n];"getName"!==a&&"getFrameWidth"!==a&&"getFrameHeight"!==a&&"getFrameMax"!==a&&"getMargin"!==a&&"getSpacing"!==a&&-1!==a.indexOf("get")&&(t=a)}this.game.load.spritesheet(he[e].getName(),he[e][t](),he[e].getFrameWidth(),he[e].getFrameHeight(),he[e].getFrameMax(),he[e].getMargin(),he[e].getSpacing())}},e.loadAtlases=function(){var e=function(e){var n=de[e].getName();if(-1===t.allowedAtlases.indexOf(n)&&!t.skins.some(function(e){return e===n}))return"continue";if(!t.game.cache.checkImageKey(de[e].getName())){for(var i=null,a=null,o=0,s=Object.getOwnPropertyNames(de[e]);o<s.length;o++){var r=s[o];"getXML"!==r&&"getJSONArray"!==r&&"getJSONHash"!==r||-1===r.indexOf("get")?"getName"!==r&&"Frames"!==r&&-1!==r.indexOf("get")&&(i=r):a=r}"getXML"===a?t.game.load.atlasXML(de[e].getName(),de[e][i](),de[e].getXML()):"getJSONArray"===a?t.game.load.atlasJSONArray(de[e].getName(),de[e][i](),de[e].getJSONArray()):"getJSONHash"===a&&t.game.load.atlasJSONHash(de[e].getName(),de[e][i](),de[e].getJSONHash())}},t=this;for(var n in de)e(n)},e.orderAudioSourceArrayBasedOnSoundExtensionPreference=function(e){var t=this,n=[],i=function(i){var a=e.filter(function(e){return e.substring(e.lastIndexOf(".")+1,e.length)===t.soundExtensionsPreference[i]});n=n.concat(a)};for(var a in this.soundExtensionsPreference)i(a);return n},e.loadAudio=function(){for(var e in ge){var t=ge[e].getName();if(this.soundKeys.push(t),!this.game.cache.checkSoundKey(t)){for(var n=[],i=0,a=Object.getOwnPropertyNames(ge[e]);i<a.length;i++){var o=a[i];"getName"!==o&&-1!==o.indexOf("get")&&n.push(ge[e][o]())}n=this.orderAudioSourceArrayBasedOnSoundExtensionPreference(n),this.game.load.audio(t,n,!0)}}},e.loadAudiosprites=function(){for(var e in me){var t=me[e].getName();if(this.soundKeys.push(t),!this.game.cache.checkSoundKey(t)){for(var n=[],i=0,a=Object.getOwnPropertyNames(me[e]);i<a.length;i++){var o=a[i];"getName"!==o&&"getJSON"!==o&&"Sprites"!==o&&-1!==o.indexOf("get")&&n.push(me[e][o]())}n=this.orderAudioSourceArrayBasedOnSoundExtensionPreference(n),this.game.load.audiosprite(t,n,me[e].getJSON(),null,!0)}}},e.loadBitmapFonts=function(){for(var e in ve)if(!this.game.cache.checkBitmapFontKey(ve[e].getName())){for(var t=null,n=null,i=0,a=Object.getOwnPropertyNames(ve[e]);i<a.length;i++){var o=a[i];"getXML"!==o&&"getFNT"!==o||-1===o.indexOf("get")?"getName"!==o&&-1!==o.indexOf("get")&&(t=o):n=o}this.game.load.bitmapFont(ve[e].getName(),ve[e][t](),ve[e][n]())}},e.loadXML=function(){for(var e in ke)this.game.cache.checkXMLKey(ke[e].getName())||this.game.load.xml(ke[e].getName(),ke[e].getXML(),!0)},e.loadText=function(){for(var e in Ce)this.game.cache.checkTextKey(Ce[e].getName())||this.game.load.text(Ce[e].getName(),Ce[e].getTXT(),!0)},e.loadScripts=function(){for(var e in we)this.game.load.script(we[e].getName(),we[e].getJS())},e.loadShaders=function(){for(var e in Me)this.game.cache.checkShaderKey(Me[e].getName())||this.game.load.shader(Me[e].getName(),Me[e].getFRAG(),!0)},e.loadMisc=function(){for(var e in Pe)this.game.cache.checkBinaryKey(Pe[e].getName())||this.game.load.binary(Pe[e].getName(),Pe[e].getFile())},e.loadSpine=function(){var e=function(e){var n=Oe[e].getKey();("end-gate"===n||t.skins.filter(function(e){return e===n}).length)&&t.game.load.spine(n,Oe[e].getJSONUrl(),void 0)},t=this;for(var n in Oe)e(n)},e.game=null,e.soundKeys=[],e.soundExtensionsPreference=Ye.a.map.soundExtensionsPreference,e.allowedAtlases=["common","animations"],e}(),Ct=function(e){function t(t,n,i,a,o){var s=e.call(this,o,t,n,i,a)||this;return s.anchor.set(.5,.5),s}return Object(Ve.__extends)(t,e),t.prototype.setLabel=function(e,t){this.label=wt.text(0,0,e,t,this,new Phaser.Point(.5,.5))},t.prototype.enableInput=function(){this.inputEnabled=!0,this.events.onInputDown.add(this.handleInputDown,this),this.events.onInputUp.add(this.handleInputUp,this)},t.prototype.disableInput=function(){this.inputEnabled=!1},t.prototype.show=function(){this.visible=!0,this.inputEnabled=!0},t.prototype.hide=function(){this.visible=!1,this.inputEnabled=!1},t.prototype.handleInputDown=function(){this.scale.x-=this.scale.x/20,this.scale.y-=this.scale.y/20},t.prototype.handleInputUp=function(){this.scale.x+=this.scale.x/20,this.scale.y+=this.scale.y/20},t}(Phaser.Sprite),wt=function(){function e(){}return e.initialize=function(t){e.game=t},e.sprite=function(t,n,i,a,o,s,r){var l=e.game.add.sprite(t,n,i,a);return s&&(l.anchor=s),r&&(l.scale=r),o.addChild(l),l},e.text=function(t,n,i,a,o,s,r){var l=e.game.add.text(t,n,i,a);return s&&(l.anchor=s),r&&(l.scale=r),o.addChild(l),l},e.mask=function(t,n,i,a,o){var s=e.game.add.graphics(t,n);return s.beginFill(16777215,.4),s.drawRect(0,0,i,a),o.addChild(s),s},e.button=function(t,n,i,a,o){var s;return s=new Ct(t,n,i,a,e.game),o&&o.addChild(s),s},e.nineSliceSprite=function(t,n,i,a,o,s,r,l,u){var c=new PhaserNineSlice.NineSlice(e.game,t,n,i,r,a,o,s);c.parent=l;var p=e.game.add.existing(c);return u&&(p.anchor=u),l.addChild(p),p},e}(),Mt=n("MCLT"),Pt=function(){function e(){}return Object.defineProperty(e,"i",{get:function(){return null==e._i&&(e._i=new e),e._i},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){this.storageKey=e},e.prototype.isGateOpenTutorialSeen=function(){return this.getItem("isGateOpenTutorialSeen")},e.prototype.setGateOpenTutorialSeen=function(){this.setItem("isGateOpenTutorialSeen","true")},e.prototype.setItem=function(e,t){localStorage.setItem(this.storageKey+e,t)},e.prototype.getItem=function(e){return localStorage.getItem(this.storageKey+e)},e}(),Ot=function(){function e(){}return Object.defineProperty(e,"i",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLevelIndex",{set:function(e){this._currentLevelIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapId",{get:function(){return this._mapId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gateRequirements",{get:function(){return this._gateRequirements},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapData",{get:function(){return this._mapData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"puzzlesData",{get:function(){return this._puzzlesData},set:function(e){this._puzzlesData=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"puzzleCountPerSection",{get:function(){return this._puzzleCountPerSection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLevelSelected",{get:function(){return this._isLevelSelected},set:function(e){this._isLevelSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bonusPuzzles",{get:function(){return this._bonusPuzzles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bonusPuzzlesData",{get:function(){return this._bonusPuzzlesData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"starsCount",{get:function(){return this._starsCount},set:function(e){this._starsCount=e},enumerable:!0,configurable:!0}),e.prototype.getChests=function(){var e=this.getUserData();return e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].chests||(e=this.createEmptyUserData(e)),e[this.gameType][this._mapId].chests},e.prototype.saveOpenedChest=function(e){var t=this.getUserData();t&&t[this.gameType]&&t[this.gameType][this._mapId]&&t[this.gameType][this._mapId].chests||(t=this.createEmptyUserData(t)),t[this.gameType][this._mapId].chests[e]=!0,this.saveUserData(t)},e.prototype.getLastOpenedMap=function(){var e=this.getMapData();return e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].lastOpenedMap||(e=this.createEmptyMapData(e)),e[this.gameType][this._mapId].lastOpenedMap},e.prototype.saveLastMap=function(e){var t=this.getMapData();t&&t[this.gameType]&&t[this.gameType][this._mapId]&&t[this.gameType][this._mapId].lastOpenedMap||(t=this.createEmptyMapData(t)),t[this.gameType][this._mapId].lastOpenedMap=e,this.saveMapData(t)},e.prototype.setMapController=function(e){this.mc=e},e.prototype.getPreviousLevel=function(){var e=this.getUserData();return e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].previousLevel?e[this.gameType][this._mapId].previousLevel:(this.levelsData=this.getLevelsData(),this.levelsData[0])},e.prototype.saveMapCompleted=function(){var e=this.getMapData();e[this.gameType][this._mapId].mapCompleted=!0,this.saveMapData(e)},e.prototype.getMapCompleted=function(){var e=this.getMapData();return e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].mapCompleted||(e=this.createEmptyMapData(e)),e[this.gameType][this._mapId].mapCompleted},e.prototype.getIfMapWasPerfectedInDebug=function(){var e=this.getMapData();return e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].wasPerfectedInDebug||(e=this.createEmptyMapData(e)),e[this.gameType][this._mapId].wasPerfectedInDebug},e.prototype.getIfMapWasUnlockedInDebug=function(){var e=this.getMapData();return e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].wasUnlockedInDebug||(e=this.createEmptyMapData(e)),e[this.gameType][this._mapId].wasUnlockedInDebug},e.prototype.savePreviousLevel=function(e){var t=this.getUserData();t&&t[this.gameType]&&t[this.gameType][this._mapId]&&t[this.gameType][this._mapId].previousLevel||(t=this.createEmptyUserData(t)),t[this.gameType][this._mapId].previousLevel=e,this.saveUserData(t),this.saveLevelData(e)},e.prototype.getIsFirstTime=function(){var e=this.getMapData();return e&&e[this.gameType]&&e[this.gameType][this._mapId]||(e=this.createEmptyMapData(e)),e[this.gameType][this._mapId].isFirstTime},e.prototype.setIsFirstTime=function(){var e=this.getMapData();e[this.gameType][this._mapId].isFirstTime=!1,this.saveMapData(e)},e.prototype.initialize=function(e,t,n,i,a,o){this._mapData=wt.game.cache.getJSON(e.skinId),this._bonusPuzzles=e.bonusPuzzleIds,this._bonusPuzzlesData=i,this._mapId=e.mapId,this._gateRequirements=e.gateRequirements,this._puzzleCountPerSection=e.puzzleCountPerSection,this._puzzlesData=t,this._currentLevelIndex=a,this.gameType=n,this.messageService=o},e.prototype.destroy=function(){delete this.messageService,delete e._instance},e.prototype.getBonusLevelsData=function(){if(!this.bonusLevelsData){var e=this.getMapData();if(!e[this.gameType]||!e[this.gameType][this._mapId])return this.bonusLevelsData=[],this.bonusLevelsData;this.bonusLevelsData=e[this.gameType][this._mapId].bonusLevels||[]}return this.bonusLevelsData},e.prototype.handleBonusPuzzleUnlocked=function(e){this.messageService.sendMessageToWrapper({state:it.Map,action:"bonusPuzzleUnlocked",id:e})},e.prototype.getLevelsData=function(){var e=this.getMapData();return e[this.gameType]&&e[this.gameType][this._mapId]?(this.levelsData=e[this.gameType][this._mapId].levels||[],this.levelsData):(this.levelsData=[],this.levelsData)},e.prototype.getBonusLevels=function(){var e=this.getMapData();return e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].bonusLevels||(e=this.createEmptyMapData(e)),e[this.gameType][this._mapId].bonusLevels},e.prototype.saveBonusLevels=function(e,t,n,i){var a=this.getMapData();a&&a[this.gameType]&&a[this.gameType][this._mapId]&&a[this.gameType][this._mapId].bonusLevels&&!(a[this.gameType][this._mapId].bonusLevels.filter(function(e){return e.patch}).length>0)||(a=this.createEmptyMapData(a));var o=a[this.gameType][this._mapId].bonusLevels[e];o||(o={}),o.starsCount=t,o.alreadyOpened=n,i&&(o.wasOpenedInDebug=!0),a[this.gameType][this._mapId].bonusLevels[e]=o,this.saveMapData(a)},e.prototype.getBonusPuzzleUnlocked=function(e){var t=this.getMapData();t&&t[this.gameType]&&t[this.gameType][this._mapId]&&t[this.gameType][this._mapId].bonusLevels||(t=this.createEmptyMapData(t));var n=t[this.gameType][this._mapId].bonusLevels[e];return!!n&&n.alreadyOpened},e.prototype.getCurrentLevelIndex=function(){return Object(Mt.isNullOrUndefined)(this._currentLevelIndex)?0:(this._currentLevelIndex+1)%this._puzzleCountPerSection!=0||this.checkIfAllowedToUnlockNextMap(this._currentLevelIndex)?Math.min(this._currentLevelIndex+1,this._puzzlesData.length-1):this._currentLevelIndex},e.prototype.checkIfAllowedToUnlockNextMap=function(e){var t=Math.floor(e/20);return this.getStarRequirement(t)<=this.calculateStarCountAcrossMap()},e.prototype.dispatchGateOpened=function(t){var n=Math.floor(t/e.i.puzzleCountPerSection);this.getStarRequirement(n)>this.calculateStarCountAcrossMap()||(t+1)%e.i.puzzleCountPerSection!=0||(n+1!==this.mapData.skins.length||this.getMapCompleted()?n+1!==this.mapData.skins.length&&this.mc.handleGateOpened(n+1):this.mc.handleGateOpened(n+1))},e.prototype.getStarRequirement=function(t){return Math.floor((t+1)*e.i.puzzleCountPerSection*3*(t===this.mapData.skins.length-1?.646:e.i.gateRequirements[t]/100))},e.prototype.isCurrentLevelOpen=function(){var e=this.getMapData(),t=this.getCurrentLevelIndex();return!!(e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].levels&&e[this.gameType][this._mapId].levels[t])&&e[this.gameType][this._mapId].levels[t]},e.prototype.saveLevel=function(e,t,n,i){this.saveLevelData({index:e,starsCount:t,isOpened:n,wasOpenedInDebug:i})},e.prototype.saveLevelData=function(e){var t=this.getMapData();t[this.gameType]&&t[this.gameType][this._mapId]&&t[this.gameType][this._mapId].levels||(t=this.createEmptyMapData(t));var n=t[this.gameType][this._mapId].levels[e.index];if(n)return n.index=e.index,n.starsCount=Math.max(n.starsCount,e.starsCount),t[this.gameType][this._mapId].isFirstTime=!1,e.wasOpenedInDebug&&(n.wasOpenedInDebug=!0),void this.saveMapData(t);t[this.gameType][this._mapId].levels.push(e),this.saveMapData(t)},e.prototype.getStarsCount=function(e){var t=this.getMapData();return t[this.gameType]&&t[this.gameType][this._mapId]&&t[this.gameType][this._mapId].levels&&t[this.gameType][this._mapId].levels[e]?t[this.gameType][this._mapId].levels[e].starsCount:0},e.prototype.getOpenLevelsStarsCount=function(){var e=this.getMapData(),t=0;return e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].levels?(e[this.gameType][this._mapId].levels.forEach(function(e){return t+=e.starsCount}),e[this.gameType][this._mapId].bonusLevels.forEach(function(e){return t+=e.starsCount}),t):0},e.prototype.saveMapAsPerfectedInDebug=function(){var e=this.getMapData();e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].wasPerfectedInDebug||(e=this.createEmptyMapData(e)),e[this.gameType][this._mapId].wasPerfectedInDebug=!0,this.saveMapData(e)},e.prototype.saveMapAsUnlockedInDebug=function(){var e=this.getMapData();e&&e[this.gameType]&&e[this.gameType][this._mapId]&&e[this.gameType][this._mapId].wasUnlockedInDebug||(e=this.createEmptyMapData(e)),e[this.gameType][this._mapId].wasUnlockedInDebug=!0,this.saveMapData(e)},e.prototype.calculateStarCountAcrossMap=function(){var e=0;return this.getLevelsData(),this.levelsData.forEach(function(t){return e+=t.starsCount}),this.getBonusLevelsData(),this.bonusLevelsData.forEach(function(t){return e+=t.starsCount||0}),e},e.prototype.createEmptyUserData=function(e){var t=e||{};return t[this.gameType]=t[this.gameType]||{},t[this.gameType][this._mapId]=t[this.gameType][this._mapId]||{},t[this.gameType][this._mapId].chests=t[this.gameType][this._mapId].chests||[],t},e.prototype.createEmptyMapData=function(e){var t=e||{};if(t[this.gameType]=t[this.gameType]||{},t[this.gameType][this._mapId]=t[this.gameType][this._mapId]||{},t[this.gameType][this._mapId].mapCompleted=!1,t[this.gameType][this._mapId].isFirstTime=!0,t[this.gameType][this._mapId].levels=t[this.gameType][this._mapId].levels||[],t[this.gameType][this._mapId].bonusLevels&&t[this.gameType][this._mapId].bonusLevels.filter(function(e){return e.patch}).length){t[this.gameType][this._mapId].bonusLevels=[];for(var n=0;n<=this.mapData.skins.length;n++)t[this.gameType][this._mapId].bonusLevels.push({})}else t[this.gameType][this._mapId].bonusLevels=t[this.gameType][this._mapId].bonusLevels||[];return t[this.gameType][this._mapId].openedMapIndexes=t[this.gameType][this._mapId].openedMapIndexes||[],t[this.gameType][this._mapId].openedMapIndexes[0]=!0,t[this.gameType][this._mapId].lastOpenedMap=0,t},e.prototype.getMapData=function(){return JSON.parse(Pt.i.getItem("mapData")||"{}")},e.prototype.saveMapData=function(e){Pt.i.setItem("mapData",JSON.stringify(e))},e.prototype.getUserData=function(){return JSON.parse(Pt.i.getItem("userData")||"{}")},e.prototype.saveUserData=function(e){Pt.i.setItem("userData",JSON.stringify(e))},e}(),St=function(){function e(){}return Object.defineProperty(e,"i",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){this._data=e},e.prototype.getString=function(e,t){return this._data[e]||t},e}(),It=function(){function e(){}return Object.defineProperty(e,"i",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUpdate",{get:function(){return this._onUpdate},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){this._data={},this._data.settings=e,this._onUpdate=new Phaser.Signal},e.prototype.destroy=function(){this._onUpdate.dispose(),delete this._data,delete e._instance},e.prototype.updateSettings=function(e){this._data=e,this._onUpdate.dispatch(e)},e}(),_t=function(){function e(){}return Object.defineProperty(e,"i",{get:function(){return null==e._i&&(e._i=new e),e._i},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){var t=this;this._sfxVolume=.8,this.game=e,It.i.onUpdate.add(function(e){return t.handleSettingsUpdated(e.settings)})},e.prototype.destroy=function(){this.currentSfx&&this.currentSfx.destroy(),delete this.currentSfx,delete this.game},e.prototype.playLock=function(){this.playSFX(ge.AudioLocked.getName())},e.prototype.playLevelUnlocked=function(){this.playSFX(ge.AudioPuzzleUnlocked.getName())},e.prototype.playSFX=function(e){this.currentSfx=this.game.add.audio(e),It.i.data.settings.soundEffects&&this.currentSfx.play(null,0,this._sfxVolume,!1)},e.prototype.handleSettingsUpdated=function(e){this.currentSfx&&(e.soundEffects||this.currentSfx.stop())},e}(),xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ve.__extends)(t,e),t.prototype.init=function(e,t,n,i){this.gameKey="WordTwister"===e.game?"jumble":e.game,this.mapData=e.mapData,this.puzzlesData=e.puzzlesData,this.bonusPuzzlesData=e.bonusPuzzlesData,this.currentPuzzleIndex=e.currentPuzzleIndex,this.localization=e.localization,this.settings=e.settings,this.seed=t,this.storageKey=e.storageKey,this.messageService=n,this.debugManager=i},t.prototype.preload=function(){this.game.add.plugin(PhaserSpine.SpinePlugin),this.gameType=this.getGameName(this.gameKey),Ot.i.initialize(this.mapData,this.puzzlesData,this.gameKey,this.bonusPuzzlesData,this.currentPuzzleIndex,this.messageService),It.i.initialize(this.settings),_t.i.initialize(this.game);var e=Ot.i.mapData.skins.map(function(e){return e.name});kt.initialize(this.game,this.gameKey,e),kt.loadAllAssets(),Pt.i.initialize(this.storageKey+".")},t.prototype.create=function(){this.messageService.sendMessageToWrapper({loaded:!0}),this.loadMap()},t.prototype.waitForSoundDecoding=function(){},t.prototype.startGame=function(){this.loadMap()},t.prototype.loadMap=function(){St.i.initialize(this.localization),this.game.state.start("map",!0,!1,this.gameType,this.seed,this.messageService,this.debugManager)},t.prototype.getGameName=function(e){return-1!==e.toLowerCase().indexOf("crossword")?nt.Crossword:-1!==e.toLowerCase().indexOf("wordament")?nt.Wordament:-1!==e.toLowerCase().indexOf("jumble")?nt.WordTwister:void 0},t}(Phaser.State),zt=function(e){function t(){return e.call(this,wt.game)||this}return Object(Ve.__extends)(t,e),t.prototype.destroy=function(){this.game.time.events.removeAll(),this.game.time.removeAll(),e.prototype.destroy.call(this)},t}(Phaser.Group),Dt=function(){function e(){this._callBacks=[],this.onMouseWheel=this.handleMouseWheel.bind(this)}return Object.defineProperty(e,"instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var e=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";document.getElementById("map").attachEvent?document.getElementById("map").attachEvent("on"+e,this.onMouseWheel,{passive:!1}):document.getElementById("map").addEventListener&&document.getElementById("map").addEventListener(e,this.onMouseWheel,{passive:!1})},e.prototype.destroy=function(){this._callBacks.length=0,this.removeEventListeners()},e.prototype.add=function(e,t,n){this._callBacks.push({element:e,callback:t,context:n})},e.prototype.handleMouseWheel=function(e){var t=0;e||(e=window.event),e.wheelDelta?t=e.wheelDelta/20:e.detail&&(t=-e.detail/3),e.preventDefault&&(e.stopPropagation(),e.preventDefault()),e.returnValue=!1,this._callBacks.forEach(function(e){e.callback.call(e.context,t)})},e.prototype.removeEventListeners=function(){var e=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";document.getElementById("map").detachEvent?document.getElementById("map").detachEvent("on"+e,this.onMouseWheel):document.getElementById("map").removeEventListener&&document.getElementById("map").removeEventListener(e,this.onMouseWheel)},e}();pt=ct||(ct={}),mt=function(){function e(){}return e.patchesInfo=((ht={})["green-patch-0"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch,position:{x:-20,y:-5},scale:1.1},ht["green-patch-1"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch1,position:{x:5,y:28},scale:1},ht["green-patch-2"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch2,position:{x:10,y:-13},scale:.75},ht["green-patch-3"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch3,position:{x:15,y:10},scale:1},ht["green-patch-4"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch4,position:{x:15,y:10},scale:.75},ht["green-patch-5"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch5,position:{x:25,y:45},scale:1.2},ht["green-patch-6"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch6,position:{x:-5,y:-35},scale:.9},ht["green-patch-7"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch7,position:{x:7,y:20},scale:.65},ht["green-patch-8"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch8,position:{x:-70,y:40},scale:.8},ht["green-patch-9"]={key:de.ImagesMapSkinsGreenPark.getName(),frame:de.ImagesMapSkinsGreenPark.Frames.GreenParkPatch9,position:{x:30,y:28},scale:1.2},ht["rock-patch-0"]={key:de.ImagesMapSkinsRock.getName(),frame:de.ImagesMapSkinsRock.Frames.RockPatch,position:{x:15,y:-25},scale:.9},ht["rock-patch-1"]={key:de.ImagesMapSkinsRock.getName(),frame:de.ImagesMapSkinsRock.Frames.RockPatch1,position:{x:-32,y:5},scale:.94},ht["rock-patch-2"]={key:de.ImagesMapSkinsRock.getName(),frame:de.ImagesMapSkinsRock.Frames.RockPatch2,position:{x:10,y:0},scale:1},ht["rock-patch-3"]={key:de.ImagesMapSkinsRock.getName(),frame:de.ImagesMapSkinsRock.Frames.RockPatch3,position:{x:0,y:32},scale:1},ht["rock-patch-4"]={key:de.ImagesMapSkinsRock.getName(),frame:de.ImagesMapSkinsRock.Frames.RockPatch4,position:{x:15,y:10},scale:1},ht["rock-patch-5"]={key:de.ImagesMapSkinsRock.getName(),frame:de.ImagesMapSkinsRock.Frames.RockPatch5,position:{x:0,y:5},scale:.8},ht["rock-patch-6"]={key:de.ImagesMapSkinsRock.getName(),frame:de.ImagesMapSkinsRock.Frames.RockPatch6,position:{x:-20,y:18},scale:.85},ht["water-patch-0"]={key:de.ImagesMapSkinsWater.getName(),frame:de.ImagesMapSkinsWater.Frames.WaterPatch,position:{x:-5,y:15},scale:.92},ht["water-patch-1"]={key:de.ImagesMapSkinsWater.getName(),frame:de.ImagesMapSkinsWater.Frames.WaterPatch1,position:{x:-18,y:5},scale:1.25},ht["water-patch-2"]={key:de.ImagesMapSkinsWater.getName(),frame:de.ImagesMapSkinsWater.Frames.WaterPatch2,position:{x:-8,y:20},scale:.9},ht["water-patch-3"]={key:de.ImagesMapSkinsWater.getName(),frame:de.ImagesMapSkinsWater.Frames.WaterPatch3,position:{x:50,y:23},scale:1},ht["water-patch-4"]={key:de.ImagesMapSkinsWater.getName(),frame:de.ImagesMapSkinsWater.Frames.WaterPatch4,position:{x:35,y:20},scale:1.3},ht["water-patch-5"]={key:de.ImagesMapSkinsWater.getName(),frame:de.ImagesMapSkinsWater.Frames.WaterPatch5,position:{x:-130,y:35},scale:.8},ht["water-patch-6"]={key:de.ImagesMapSkinsWater.getName(),frame:de.ImagesMapSkinsWater.Frames.WaterPatch6,position:{x:15,y:7},scale:1},ht["royal-patch-0"]={key:de.ImagesMapSkinsRoyalGarden.getName(),frame:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenPatch,position:{x:-18,y:43},scale:.71},ht["royal-patch-1"]={key:de.ImagesMapSkinsRoyalGarden.getName(),frame:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenPatch1,position:{x:-15,y:0},scale:1},ht["royal-patch-2"]={key:de.ImagesMapSkinsRoyalGarden.getName(),frame:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenPatch2,position:{x:45,y:32},scale:1.2},ht["royal-patch-3"]={key:de.ImagesMapSkinsRoyalGarden.getName(),frame:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenPatch3,position:{x:35,y:30},scale:1.2},ht["royal-patch-4"]={key:de.ImagesMapSkinsRoyalGarden.getName(),frame:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenPatch4,position:{x:-12,y:-9},scale:.6},ht["royal-patch-5"]={key:de.ImagesMapSkinsRoyalGarden.getName(),frame:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenPatch5,position:{x:53,y:13},scale:1.1},ht["royal-patch-6"]={key:de.ImagesMapSkinsRoyalGarden.getName(),frame:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenPatch6,position:{x:15,y:10},scale:1},ht),e.footerMap=((dt={})[nt.Crossword]={key:de.ImagesCrosswordCrosswordComponents.getName(),footerFrame:de.ImagesCrosswordCrosswordComponents.Frames.CrosswordFooter,starFrame:de.ImagesCrosswordCrosswordComponents.Frames.CrosswordGateStar,overlay:{frame:de.ImagesCrosswordCrosswordComponents.Frames.CrosswordFooterTopOverlay,dy:37}},dt[nt.WordTwister]={key:de.ImagesJumbleJumbleComponents.getName(),footerFrame:de.ImagesJumbleJumbleComponents.Frames.JumbleFooter,starFrame:de.ImagesJumbleJumbleComponents.Frames.JumbleGateStar,overlay:{frame:de.ImagesJumbleJumbleComponents.Frames.JumbleFooterTopOverlay,dy:77}},dt[nt.Wordament]={key:de.ImagesWordamentWordamentComponents.getName(),footerFrame:de.ImagesWordamentWordamentComponents.Frames.WordamentFooter,starFrame:de.ImagesWordamentWordamentComponents.Frames.WordamentGateStar,overlay:{frame:de.ImagesWordamentWordamentComponents.Frames.WordamentFooterTopOverlay,dy:77}},dt),e.skinAssets=((gt={})["green-park"]={key:de.ImagesMapSkinsGreenPark.getName(),background:de.ImagesMapSkinsGreenPark.Frames.GreenParkBackground,topOverlay:de.ImagesMapSkinsGreenPark.Frames.GreenParkTopOverlay,gate:{gateAsset:de.ImagesMapSkinsGreenPark.Frames.GreenParkGate,gateStarDx:-10,gateStarDy:0,gateArchDx:10,dx:0,dy:13,gateArch:de.ImagesMapSkinsGreenPark.Frames.GreenParkGateArch,fenceOverlay:!1,fenceOverlayAsset:null},transition:de.ImagesMapSkinsGreenPark.Frames.GreenParkTransition},gt["royal-garden"]={key:de.ImagesMapSkinsRoyalGarden.getName(),background:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenBackground,topOverlay:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenTopOverlay,gate:{gateAsset:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenGate,gateStarDx:0,gateStarDy:-20,gateArchDx:0,dx:15,dy:8,gateArch:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenGateArch,fenceOverlay:!1,fenceOverlayAsset:null},transition:de.ImagesMapSkinsRoyalGarden.Frames.RoyalGardenTransition},gt.water={key:de.ImagesMapSkinsWater.getName(),background:de.ImagesMapSkinsWater.Frames.WaterBackground,topOverlay:de.ImagesMapSkinsWater.Frames.WaterTopOverlay,gate:{gateAsset:de.ImagesMapSkinsWater.Frames.WaterGate,gateStarDx:0,gateStarDy:-30,gateArchDx:0,dx:0,dy:15,gateArch:de.ImagesMapSkinsWater.Frames.WaterGateArch,fenceOverlay:!0,fenceOverlayAsset:de.ImagesMapSkinsWater.Frames.WaterGateFenceOverlay},transition:de.ImagesMapSkinsWater.Frames.WaterTransition},gt.rock={key:de.ImagesMapSkinsRock.getName(),background:de.ImagesMapSkinsRock.Frames.RockBackground,topOverlay:de.ImagesMapSkinsRock.Frames.RockTopOverlay,gate:{gateAsset:de.ImagesMapSkinsRock.Frames.RockGate,gateStarDx:0,gateStarDy:-20,gateArchDx:-10,dx:-1,dy:13,gateArch:null,fenceOverlay:!1,fenceOverlayAsset:null},transition:de.ImagesMapSkinsRock.Frames.RockTransition},gt),e}(),pt.Maps=mt;var Tt=function(){return function(e,t,n){this.element=e,this.text=t,this.method=n}}(),Gt=function(e){return e[e.Hover=0]="Hover",e[e.Click=1]="Click",e}({}),Lt=de.ImagesCommon,Nt=function(){function e(){}return Object.defineProperty(e,"i",{get:function(){return null==e._i&&(e._i=new e),e._i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{set:function(e){this._scale=e,this.resize()},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){this._game=e,this.popUpData=[],this.initContainer()},e.prototype.destroy=function(){this.container&&this.container.exists&&this.container.destroy(),this.containerText&&this.containerText.exists&&this.containerText.destroy(),delete this._game,delete this.popUpData,delete this.container,delete this.containerText,delete e._i},e.prototype.unsubscribe=function(e){e.events.onInputUp.removeAll(this)},e.prototype.addElement=function(e,t,n,i){var a=new Tt(e,t,n);a.element.inputEnabled=!0,n===Gt.Hover?this.initHoverMethod(e):n===Gt.Click&&this.initClickMethod(e,i),this.popUpData.push(a)},e.prototype.update=function(){this._game.input.activePointer.isDown&&this.hideTooltip()},e.prototype.hideAllTooltips=function(){this.container.kill()},e.prototype.resize=function(){this.hideAllTooltips(),this.initContainer()},e.prototype.initHoverMethod=function(e){e.events.onInputOver.add(this.showToolTip,this,0),e.events.onInputOut.add(this.hideTooltip,this,0),e.events.onInputUp.add(this.hideTooltip,this,0)},e.prototype.initClickMethod=function(e,t){e.events.onInputUp.add(this.showToolTip,this,0,Gt.Click,t)},e.prototype.initContainer=function(){this.container&&this._game.world.removeChild(this.container),this._scale=this._scale||1,this.container=wt.nineSliceSprite(0,0,de.ImagesCommon.getName(),400*this._scale,400*this._scale,{top:21,bottom:26,left:16,right:27},Lt.Frames.TooltipBg,this._game.world,new Phaser.Point(.5,.5)),this.initContainerText(),this.container.visible=!1},e.prototype.initContainerText=function(){this.containerText&&this.container.removeChild(this.containerText),this._scale=this._scale||1,this.containerText=wt.text(-5,-3,"",{font:"bold SegoeUI",fontSize:110,fill:"#F3FFFE"},this.container,new Phaser.Point(.5,.5)),this.containerText.scale.set(.2/this._scale,.2),this.containerText.wordWrap=!0,this.containerText.wordWrapWidth=1750*this._scale},e.prototype.showToolTip=function(t,n,i,a,o){var s,r;void 0===a&&(a=Gt.Hover),this.resetContainer(),_t.i.playLock();var l=o?t.worldPosition.x+t.width/2+o.x:t.worldPosition.x+t.width/2,u=o?t.worldPosition.y+t.height+10+o.y:t.worldPosition.y+t.height+10;this._hideAnimation&&this._hideAnimation.stop(),this.container.scale.set(1,1);var c=this.popUpData.filter(function(e){return e.element===t})[0];for(this.containerText.text=c.text,this.addColors(),this.container.position.set(l,u),this.container.x>=this._game.world.width-this.container.width/2&&(this.container.x=t.worldPosition.x-t.width/2),s=Math.min(Math.max(this.containerText.width+40,e.containerMinWidth),e.containerMaxWidth),r=Math.min(Math.max(this.containerText.height+30,e.containerMinHeight),e.containerMaxHeight),this.container.resize(s,r);this.container.x-s/2<0;)this.container.x+=10;for(;this.container.x+this.container.width/2>this._game.width-18;)this.container.x-=5;this.container.visible=!0,a===Gt.Click&&this.startHideAnimation()},e.prototype.resetContainer=function(){this.container.destroy(),this.containerText.destroy(),this.initContainer()},e.prototype.startHideAnimation=function(){this._hideAnimation=this._game.add.tween(this.container.scale),this._hideAnimation.to({x:0,y:0},50,null,!0,2500),this._hideAnimation.onComplete.add(this.hideTooltip,this)},e.prototype.addColors=function(){for(;-1!==this.containerText.text.indexOf("{c}");)this.containerText.addColor("#FFDE01",this.containerText.text.indexOf("{c}")),this.containerText.text=this.containerText.text.replace("{c}",""),this.containerText.addColor("#ffffff",this.containerText.text.indexOf("{e}")+1),this.containerText.text=this.containerText.text.replace("{e}","")},e.prototype.hideTooltip=function(){this.container.visible=!1},e.containerMinWidth=250,e.containerMinHeight=85,e.containerMaxWidth=400,e.containerMaxHeight=400,e}(),At=de.ImagesCommon,Rt=function(e){function t(t,n){var i=e.call(this,wt.game,t)||this;return i.gameComponentAtlas=n,i.initialize(),i}return Object(Ve.__extends)(t,e),Object.defineProperty(t.prototype,"gateSprite",{get:function(){return this._gateSprite},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"starRequirements",{get:function(){return this._starRequirements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick},enumerable:!0,configurable:!0}),t.prototype.enableGateInput=function(){Nt.i.unsubscribe(this._gateSprite),this._gateSprite.events.onInputDown.add(this._onClick.dispatch,this._onClick)},t.prototype.initialize=function(){this.initGate(),this.initStar(),this.initStarRequirements(),this.addTooltip(),this.initSignals()},t.prototype.initGate=function(){this._gateSprite=wt.sprite(0,0,de.ImagesCommon.getName(),At.Frames.EndGate,this,new Phaser.Point(.5,1))},t.prototype.initStar=function(){this.starSprite=wt.sprite(0,10-this._gateSprite.height,this.gameComponentAtlas.key,this.gameComponentAtlas.starFrame,this,new Phaser.Point(.5,0)),wt.sprite(-1,20,de.ImagesCommon.getName(),At.Frames.GateStar,this.starSprite,new Phaser.Point(.5,.5))},t.prototype.initStarRequirements=function(){this._starRequirements=Math.floor(Ot.i.mapData.skins.length*Ot.i.puzzleCountPerSection*3*.646),this._starRequirementsText=wt.text(0,30,this.starRequirements.toString(),{font:"bold SegoeUI",fontSize:14,fill:"#FFF4C9"},this.starSprite,new Phaser.Point(.5,0))},t.prototype.addTooltip=function(){var e=et.format(St.i.getString("gateRequirement","gateRequirement"),(Ot.i.bonusPuzzles.length-1)*Ot.i.puzzleCountPerSection,this.starRequirements);Nt.i.addElement(this._gateSprite,e,Gt.Click,new Phaser.Point(0,-120))},t.prototype.initSignals=function(){this._onClick=new Phaser.Signal},t.prototype.disposeSignals=function(){this._onClick.dispose()},t.prototype.destroy=function(){this.disposeSignals(),e.prototype.destroy.call(this)},t}(Phaser.Group),Bt=function(){function e(){}return Object.defineProperty(e,"i",{get:function(){return null==e._i&&(e._i=new e),e._i},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this.game=e},e.prototype.showHoverBkg=function(e){this.game.add.tween(e).to({alpha:1},150,null,!0)},e.prototype.hideHoverBkg=function(e){this.game.add.tween(e).to({alpha:0},150,null,!0)},e}(),Ft=function(){function e(){this.lockAnimations=[]}return Object.defineProperty(e,"i",{get:function(){return null==e._i&&(e._i=new e),e._i},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){this.game=e},e.prototype.animateLock=function(e){var t=Math.random()>.3?1:-1,n=this.game.add.tween(e),i=this.game.add.tween(e);return n.to({angle:15*t},40,Phaser.Easing.Bounce.Out,!1,null,0,!0),i.to({angle:-15*t},50,null,!0,null,0,!0),i.chain(n),this.lockAnimations.push(i),this.lockAnimations.push(n),i.onComplete.add(function(){return e.angle=0},this),n},e}(),Et=de.ImagesAnimations.Frames,Ut=de.ImagesCommon,jt=function(e){function t(t,n,i,a){var o=e.call(this,wt.game,t)||this;return o.gameName=n,o.levelNumber=i,o._isOpen=a,o.atlas=o.getAtlas(o.gameName),Ot.i.starsCount=0,o.initialize(),o}return Object(Ve.__extends)(t,e),Object.defineProperty(t.prototype,"onInputDown",{get:function(){return this._onInputDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onInputUp",{get:function(){return this._onInputUp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"starsCount",{get:function(){return this._starsCount},set:function(e){this._starsCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.levelData.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},set:function(e){this._isOpen=e,this.locked.visible=!e,this.background.visible=e,e&&this.initializeOrShowLevelInfoGroup()},enumerable:!0,configurable:!0}),t.prototype.resizeLevelNumber=function(e){if(this.number&&this.levelInfoGroup){-1!==this.levelInfoGroup.children.indexOf(this.number)&&this.levelInfoGroup.removeChild(this.number);var t=e?"bold SegoeUI":"SegoeUI",n=e?33:23;this.number=wt.text(1,4,(this.levelNumber+1).toString(),{font:t,fontSize:n},this.levelInfoGroup,new Phaser.Point(.5,.5))}},t.prototype.forceOpen=function(){-1!==this.children.indexOf(this.levelInfoGroup)&&this.removeChild(this.levelInfoGroup),this.levelInfoGroup=null,this.initStars()},t.prototype.startIdleAnimation=function(){var e=this;this.idleAnimation=this.game.add.sprite(0,0,de.ImagesAnimations.getName(),de.ImagesAnimations.Frames.IdleBurst,this.levelInfoGroup),this.idleAnimation.anchor.set(.5,.5);var t=tt.getFramesWithKey("idle-burst",13);this.idleAnimation.animations.add("idle",t,17),this.idleAnimation.animations.play("idle"),this.idleAnimation.events.onAnimationComplete.add(function(){return e.idleAnimation.kill()},this),this.game.time.events.add(7e3,function(){e.idleAnimation.kill(),e.startIdleAnimation()},this)},t.prototype.lock=function(){this._locked=!0,this.locked.visible=!0,this.background.visible=!1,this.levelInfoGroup&&(this.levelInfoGroup.visible=!1)},t.prototype.unlock=function(){if(this._locked){this._locked=!1,this.levelInfoGroup.visible=!0,this.locked.visible=!1,this.background.visible=!0;var e=this.game.add.sprite(-5,-5,de.ImagesAnimations.getName(),de.ImagesAnimations.Frames.NodeUnlock,this.levelInfoGroup);e.anchor.set(.5,.5),e.scale.set(.51,.51),this.levelInfoGroup.alpha=.2,this.game.add.tween(this.levelInfoGroup).to({alpha:1},200,null,!0);var t=tt.getFramesWithKey("node-unlock",15);e.animations.add("unlock",t,20),e.animations.play("unlock"),_t.i.playLevelUnlocked()}},t.prototype.handleLevelInputUp=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),n&&(Ot.i.savePreviousLevel({index:this.levelData.index,starsCount:this._starsCount,isOpened:!0}),this._onClick.dispatch(this.levelNumber))},t.prototype.destroy=function(){this.disposeSignals(),e.prototype.destroy.call(this)},t.prototype.initLevelInfo=function(){this.levelData=Ot.i.puzzlesData[this.levelNumber],this.levelData.index=this.levelData.index||this.levelNumber;var e=this.levelData.data,t=Ot.i.getStarsCount(this.levelNumber),n=e&&e.objectives?e.objectives.filter(function(e){return e.max===e.done&&e.checked}).length:0;this._starsCount=Math.max(t,n)},t.prototype.initialize=function(){this.initLevelInfo(),this.initSignals(),this.initBackground(),this.attachListeners(),this.starsCount>0&&this.initStars()},t.prototype.initSignals=function(){this._onInputDown=new Phaser.Signal,this._onInputUp=new Phaser.Signal,this._onClick=new Phaser.Signal},t.prototype.disposeSignals=function(){this._onInputDown.dispose(),this._onInputUp.dispose(),this._onClick.dispose()},t.prototype.initializeOrShowLevelInfoGroup=function(){if(this.levelInfoGroup)this.levelInfoGroup.visible=!0;else{this.levelInfoGroup=this.game.add.group(this),this.levelInfoGroup.position.set(-2,-2);var e=3===this.starsCount?Ut.Frames.LevelButtonGold:Ut.Frames.LevelButton,t=this.getForegroundPositions(),n=wt.sprite(t.x,t.y,de.ImagesCommon.getName(),e,this.levelInfoGroup);n.anchor.set(.5,.5),n.inputEnabled=!0,n.events.onInputUp.add(this.handleLevelInputUp,this),n.events.onInputUp.add(this.handleOnInputUp,this),n.events.onInputDown.add(this.handleOnInputDown,this),this.checkIfGoldenButtonAnimationNeeded()&&(n.visible=!1,this.showGoldenLevelAnimation().add(function(){n.visible=!0},this)),this.initializeOnHoverBkg(n),this.number=wt.text(1,4,(this.levelNumber+1).toString(),{font:"SegoeUI",fontSize:23},this.levelInfoGroup,new Phaser.Point(.5,.5))}},t.prototype.initBackground=function(){var e=et.format(St.i.getString("levelLock","levelLock"),this.levelNumber);this.locked=wt.sprite(0,0,this.atlas.getName(),this.atlas.Frames.LevelLocked,this),Nt.i.addElement(this.locked,e,Gt.Click,new Phaser.Point(0,-50)),this.locked.events.onInputDown.add(this.handleInputDownOnLock,this),this.locked.events.onInputDown.add(this.handleOnInputDown,this),this.locked.events.onInputUp.add(this.handleOnInputUp,this),this.background=wt.sprite(0,0,this.atlas.getName(),this.atlas.Frames.LevelUnlockedBack,this),this.background.visible=!1,this.locked.anchor.set(.5,.5),this.background.anchor.set(.5,.5)},t.prototype.initStars=function(){var e=this,t=[wt.sprite(-3,-38,de.ImagesCommon.getName(),Ut.Frames.StarBig,this.background,new Phaser.Point(.5,.5)),wt.sprite(-26,-32,de.ImagesCommon.getName(),Ut.Frames.StarSmall,this.background,new Phaser.Point(.5,.5)),wt.sprite(20,-32,de.ImagesCommon.getName(),Ut.Frames.StarSmall,this.background,new Phaser.Point(.5,.5))],n=0;Ot.i.getLevelsData()[this.levelData.index]&&(n=this.starsCount-Ot.i.getLevelsData()[this.levelData.index].starsCount),t.forEach(function(t,n){t.visible=n<e.starsCount});for(var i=2;i>-1;--i)t[i].visible&&i<=n&&n&&(t[i].scale.set(0,0),this.game.add.tween(t[i].scale).to({x:1,y:1},1500,Phaser.Easing.Elastic.Out,!0,1e3),--n)},t.prototype.showGoldenLevelAnimation=function(){var e=wt.sprite(2,10,de.ImagesAnimations.getName(),Et.ThreeStar17,this.levelInfoGroup);e.scale.set(.7,.7),e.anchor.set(.5,.5);var t=tt.getFramesWithKey("three-star",18);return e.animations.add("shine",t,17),e.animations.play("shine"),e.animations.getAnimation("shine").onComplete.add(e.kill,e),e.animations.getAnimation("shine").onComplete},t.prototype.checkIfGoldenButtonAnimationNeeded=function(){return 3!==(Ot.i.getLevelsData()&&Ot.i.getLevelsData()[this.levelData.index]?Ot.i.getLevelsData()[this.levelData.index].starsCount:0)&&3===this.starsCount},t.prototype.initializeOnHoverBkg=function(e){var t;(t=this.starsCount<3?wt.sprite(1,3,de.ImagesCommon.getName(),Ut.Frames.LevelButtonHover,this.levelInfoGroup):wt.sprite(1,2,de.ImagesCommon.getName(),Ut.Frames.LevelButtonGoldHover,this.levelInfoGroup)).alpha=0,t.anchor.set(.5,.5),e.events.onInputOver.add(function(){return Bt.i.showHoverBkg(t)},this),e.events.onInputOut.add(function(){return Bt.i.hideHoverBkg(t)},this)},t.prototype.getForegroundPositions=function(){return 3===this.starsCount?{x:3,y:8}:{x:7,y:10}},t.prototype.attachListeners=function(){this.game.onPause.add(this.handleOnPause,this),this.game.onResume.add(this.handleOnResume,this)},t.prototype.handleInputDownOnLock=function(e,t){Ft.i.animateLock(this.locked)},t.prototype.handleOnPause=function(){this.idleAnimation&&(this.idleAnimation.animations.paused=!0)},t.prototype.handleOnResume=function(){this.idleAnimation&&(this.idleAnimation.animations.paused=!1)},t.prototype.getAtlas=function(e){switch(e){case nt.Wordament:return de.ImagesWordamentWordamentComponents;case nt.Crossword:return de.ImagesCrosswordCrosswordComponents;case nt.WordTwister:return de.ImagesJumbleJumbleComponents}},t.prototype.handleOnInputDown=function(){this._onInputDown.dispatch()},t.prototype.handleOnInputUp=function(){this._onInputUp.dispatch()},t}(Phaser.Group),Wt=de.ImagesCommon,Ht=function(e){function t(t,n,i,a){var o=e.call(this,wt.game,t)||this;return o.mapIndex=n,o.skinAssetInfo=i,o.gameComponentAtlas=a,o._isOpen=!1,o.initialize(),o}return Object(Ve.__extends)(t,e),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},set:function(e){this._isOpen=e,this._isOpen&&this.openGates()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gateSprite",{get:function(){return this._gateSprite},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"starRequirements",{get:function(){return this._starRequirements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick},enumerable:!0,configurable:!0}),t.prototype.enableGateInput=function(){Nt.i.unsubscribe(this._gateSprite),this._gateSprite.events.onInputDown.add(this._onClick.dispatch,this._onClick)},t.prototype.openGates=function(){this.requirementBackground.visible=!1,this.starsRequiredCount.visible=!1},t.prototype.initialize=function(){this.initGate(),0!==this.mapIndex&&(this.initStar(),this.initStarRequirements(),this.addTooltip()),this.initSignals()},t.prototype.initGate=function(){this._gateSprite=wt.sprite(0,0,this.skinAssetInfo.key,this.skinAssetInfo.gate.gateAsset,this,new Phaser.Point(.5,1))},t.prototype.initStar=function(){this.requirementBackground=wt.sprite(this.skinAssetInfo.gate.gateStarDx,-this._gateSprite.height+this.skinAssetInfo.gate.gateStarDy,this.gameComponentAtlas.key,this.gameComponentAtlas.starFrame,this,new Phaser.Point(.5,0)),wt.sprite(-1,20,de.ImagesCommon.getName(),Wt.Frames.GateStar,this.requirementBackground,new Phaser.Point(.5,.5))},t.prototype.initStarRequirements=function(){this._starRequirements=Math.floor(this.mapIndex*Ot.i.puzzleCountPerSection*3*(Ot.i.gateRequirements[this.mapIndex-1]/100)),this.starsRequiredCount=wt.text(0,30,this._starRequirements.toString(),{font:"bold SegoeUI",fontSize:14,fill:"#FFF4C9"},this.requirementBackground,new Phaser.Point(.5,0))},t.prototype.addTooltip=function(){var e=et.format(St.i.getString("gateRequirement","gateRequirement"),this.mapIndex*Ot.i.puzzleCountPerSection,this.starRequirements);Nt.i.addElement(this._gateSprite,e,Gt.Click,new Phaser.Point(0,-120))},t.prototype.initSignals=function(){this._onClick=new Phaser.Signal},t.prototype.disposeSignals=function(){this._onClick.dispose()},t.prototype.destroy=function(){this.disposeSignals(),e.prototype.destroy.call(this)},t}(Phaser.Group),qt=function(e){function t(t,n,i,a,o,s,r,l,u){var c=e.call(this,t,n)||this;return c.skinName=i,c.gameName=a,c.levelsCount=o,c.mapIndex=r,c.mc=l,c.rnd=u,c.dragCompleteData=new Jt,c._levels=[],c.initialize(s),c.dragCompleteData.prevTime=Date.now(),c.dragCompleteData.currentTime=Date.now(),c}return Object(Ve.__extends)(t,e),Object.defineProperty(t.prototype,"gate",{get:function(){return this._gate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chestOpened",{get:function(){return this._chestOpened},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chestIndex",{get:function(){return this._chestIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onGateClick",{get:function(){return this._onGateClick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDrag",{get:function(){return this._onDrag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDragComplete",{get:function(){return this._onDragComplete},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topOverlayHeight",{get:function(){return this.topOverlay.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundSpriteHeight",{get:function(){return this.background.height},enumerable:!0,configurable:!0}),t.getAtlas=function(e){switch(e){case nt.Wordament:return de.ImagesWordamentWordamentComponents;case nt.Crossword:return de.ImagesCrosswordCrosswordComponents;case nt.WordTwister:return de.ImagesJumbleJumbleComponents}},t.prototype.getGatePositionY=function(){return this._gate.position.y},t.prototype.getGateHeight=function(){return this._gate.height},t.prototype.getGateWidth=function(){return this._gate.width},t.prototype.getMapIndex=function(){return this.mapIndex},t.prototype.openGates=function(){this.startGateOpenAnimation(),this._onGateClick.dispatch(this.gateOpenSpine)},t.prototype.enableGateClick=function(){this.openGateInitialized||(this._gate.visible=!0,this.gateOpenSpine.visible=!1,this._gate.enableGateInput(),this._gate.onClick.add(this.openGates,this))},t.prototype.initOpenedGates=function(){this.openGateInitialized||(this._gate.visible=!1,this.gateOpenSpine.visible=!0,this.gateOpenSpine.setAnimationByName(0,"stop",!1),this.openGateInitialized=!0)},t.prototype.update=function(){e.prototype.update.call(this),this.handleDragUpdateOnBackground()},t.prototype.destroy=function(){this.disposeSignals(),e.prototype.destroy.call(this)},t.prototype.handleLevelClick=function(e){Ot.i.isLevelSelected=!0,this.mc.messageService.sendMessageToWrapper({state:it.Map,action:"play",puzzle:Ot.i.puzzlesData[e].id,level:e})},t.prototype.initialize=function(e){this.atlas=t.getAtlas(this.gameName),this.skinAssetsInfo=ct.Maps.skinAssets[this.skinName],this.initGateData(),this.initBackground(),this.initTopOverlay(),this.initTransition(),this.initSpine(),this.initGateArch(),this.initFenceOverlay(),this.initGate(),this.initLevels(e),this.initSignals()},t.prototype.initGateData=function(){switch(this.skinName){case"water":this.spineName=Oe.SpineWater.getKey();break;case"rock":this.spineName=Oe.SpineRock.getKey();break;case"green-park":this.spineName=Oe.SpineGreenPark.getKey();break;case"royal-garden":this.spineName=Oe.SpineRoyalGarden.getKey()}},t.prototype.initBackground=function(){this.background=wt.sprite(0,0,this.skinAssetsInfo.key,this.skinAssetsInfo.background,this),this.background.inputEnabled=!0,this.background.events.onInputDown.add(this.handleInputDownOnBackground,this),this.background.events.onInputUp.add(this.handleInputUpOnBackground,this)},t.prototype.initTopOverlay=function(){this.topOverlay=wt.sprite(0,0,this.skinAssetsInfo.key,this.skinAssetsInfo.topOverlay,this),this.topOverlay.anchor.set(0,.5)},t.prototype.initTransition=function(){this.transition=wt.sprite(this.background.width/2,0,this.skinAssetsInfo.key,this.skinAssetsInfo.transition,this),this.transition.scale.set(.94,.94),this.transition.anchor.set(.5,0)},t.prototype.initGateArch=function(){if(this.skinAssetsInfo.gate.gateArch){var e=this.skinAssetsInfo.gate;this.gateArch=wt.sprite(0,0,this.skinAssetsInfo.key,this.skinAssetsInfo.gate.gateArch,this),this.gateArch.anchor.set(.5,1),this.gateArch.position.set(this.background.width/2+e.gateArchDx,this.background.height-e.dy)}},t.prototype.initGate=function(){var e=this.skinAssetsInfo.gate;this._gate=new Ht(this,this.mapIndex,this.skinAssetsInfo,ct.Maps.footerMap[this.gameName]),this.gate.position.set(this.background.width/2+e.dx,this.background.height-e.dy)},t.prototype.initFenceOverlay=function(){if(this.skinAssetsInfo.gate.fenceOverlay){var e=this.skinAssetsInfo.gate;this.fenceOverlay=wt.sprite(0,0,this.skinAssetsInfo.key,this.skinAssetsInfo.gate.fenceOverlayAsset,this),this.fenceOverlay.anchor.set(.5,0),this.fenceOverlay.position.set(this.background.width/2+e.gateArchDx,1290)}},t.prototype.reInitalizeLevels=function(e){this.initLevels(e)},t.prototype.initLevels=function(e){var t,n=this,i=0,a=Ot.i.mapData.skins.filter(function(e){return e.name===n.skinName})[0].spline;this._levelsGroup=this.game.add.group(this);for(var o=[],s=0;s<a.levelNodes.length&&s<=Ot.i.puzzleCountPerSection;++s)2===a.levelNodes[s].nodeType&&o.push(s);var r=o[this.rnd.next(0,o.length)],l=a.controlPoints[a.levelNodes[r].splineIndex],u=Ot.i.getLevelsData();a.levelNodes.forEach(function(o,s){if(s%Math.round(a.levelNodes.length/Ot.i.puzzleCountPerSection)==0&&!(a.controlPoints[o.splineIndex].y>1400)){if(r===s){var c=n._levels[n._levels.length-1].starsCount>0,p=wt.sprite(0,0,n.atlas.getName(),c?"chest-small-open":"chest-small-closed",n._levelsGroup);return p.position.set(l.x,n.background.height-l.y),p.anchor.set(.5,.5),n._chestIndex=s,!c||Ot.i.getChests()[n.mapIndex]||Ot.i.getIfMapWasPerfectedInDebug()||(n._chestOpened=!0,n.mc.handleSmallChestOpened(n.mapIndex)),void(c||n.initTooltip(p,s))}var h=n.levelsCount++;h>=Ot.i.puzzlesData.length||((t=new jt(n._levelsGroup,n.gameName,h,!0)).position.set(a.controlPoints[o.splineIndex].x,n.background.height-a.controlPoints[o.splineIndex].y),t.onClick.add(n.handleLevelClick,n),t.onInputDown.add(n.handleInputDownOnBackground,n),t.onInputUp.add(n.handleInputUpOnBackground,n),t.isOpen=t.starsCount>0||!!u[h]&&u[h].wasOpenedInDebug,n._levels.push(t),n._levelsGroup.add(t),i+n.mapIndex*Ot.i.puzzleCountPerSection===e&&(n.currentLevel=t,t.isOpen=!0,n.prevLevel=n._levels[n._levels.indexOf(t)-1]),i++)}})},t.prototype.initTooltip=function(e,t){var n=et.format(St.i.getString("chest","chest"),this.mapIndex*Ot.i.puzzleCountPerSection+t);Nt.i.addElement(e,n,Gt.Click,new Phaser.Point(0,-100))},t.prototype.initSignals=function(){this._onGateClick=new Phaser.Signal,this._onDrag=new Phaser.Signal,this._onDragComplete=new Phaser.Signal},t.prototype.disposeSignals=function(){this._onGateClick.dispose(),this._onDrag.dispose(),this._onDragComplete.dispose()},t.prototype.initSpine=function(){var e=ct.Maps.skinAssets[this.skinName].gate;this.gateOpenSpine=this.game.add.spine(this.background.width/2+e.dx,this.background.height-e.dy,this.spineName,void 0,this),this.gateOpenSpine.pivot.set(0,1),this.gateOpenSpine.visible=!1,this.addChild(this.gateOpenSpine)},t.prototype.startGateOpenAnimation=function(){var e=this;this.gateOpenSpine.visible=!0,this._gate.visible=!1,this.gateOpenSpine.setAnimationByName(0,"animation",!1),this.gateOpenSpine.onComplete.addOnce(function(){e.gateOpenSpine.visible=!0,e.gateOpenSpine.setAnimationByName(0,"stop",!1),e.gateOpenSpine.setToSetupPose()},this)},t.prototype.handleInputDownOnBackground=function(){this.dragCompleteData.previousPos=this.game.input.activePointer.y,this.dragCompleteData.prevTime=Date.now(),this.currentPointerPos=this.game.input.activePointer.position.y,this.updateDragInterval=setInterval(this.handleDragUpdateOnBackground,1e3/30,this)},t.prototype.handleInputUpOnBackground=function(){this.dragCompleteData.currentPos=this.game.input.activePointer.y,this.dragCompleteData.currentTime=Date.now(),this._onDragComplete.dispatch(this.dragCompleteData),this.currentPointerPos=void 0,clearInterval(this.updateDragInterval)},t.prototype.handleDragUpdateOnBackground=function(){this.currentPointerPos&&(this.previousPointerPos=this.currentPointerPos,this.currentPointerPos=this.game.input.activePointer.position.y,this._onDrag.dispatch(this.previousPointerPos-this.currentPointerPos))},t}(Phaser.Group),Jt=function(){return function(){}}(),Xt=de.ImagesCommon,Kt=function(e){function t(t,n,i,a,o){var s=e.call(this,t,n)||this;return s.gameName=i,s.mc=a,s._mapIndex=o,s.dragCompleteData=new Jt,s.initialize(),s}return Object(Ve.__extends)(t,e),Object.defineProperty(t.prototype,"gate",{get:function(){return this._gate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDrag",{get:function(){return this._onDrag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onGateClick",{get:function(){return this._onGateClick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDragComplete",{get:function(){return this._onDragComplete},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundSpriteHeight",{get:function(){return this.background.height},enumerable:!0,configurable:!0}),t.prototype.getMapIndex=function(){return this._mapIndex},t.prototype.getGatePositionY=function(){return this._gate.position.y},t.prototype.getGateHeight=function(){return this._gate.height},t.prototype.getGateWidth=function(){return this._gate.width},t.prototype.getHeight=function(){return this.background.height},t.prototype.openGates=function(){this.startGateOpenAnimation(),this._onGateClick.dispatch(this.gateOpenSpine)},t.prototype.enableGateClick=function(){this._gate.enableGateInput(),this._gate.onClick.add(this.openGates,this)},t.prototype.update=function(){e.prototype.update.call(this),this.background.input.pointerDown()&&this._onDrag.dispatch(this.previousPointerPos-this.currentPointerPos),this.previousPointerPos=this.currentPointerPos,this.currentPointerPos=this.game.input.activePointer.position.y},t.prototype.initOpenedGates=function(){this.openGateInitialized||(this._gate.visible=!1,this.gateOpenSpine.visible=!0,this.gateOpenSpine.setAnimationByName(0,"stop",!1),this.openGateInitialized=!0)},t.prototype.openChest=function(){this.chest.destroy(),this.chest=wt.sprite(455,150,this.atlas.getName(),"chest-big-open",this)},t.prototype.initialize=function(){this.atlas=qt.getAtlas(this.gameName),this.initBackground(),this.initSpine(),this.initGate(),(!Ot.i.getMapCompleted()||Ot.i.getOpenLevelsStarsCount()<this._gate.starRequirements||3!==Ot.i.getLevelsData()[Ot.i.getLevelsData().length-1].starsCount)&&(this._gate.visible=!0),Ot.i.getMapCompleted()&&this.initOpenedGates(),this.initChest(),this.initSignals()},t.prototype.initBackground=function(){this.background=wt.sprite(0,0,de.ImagesCommon.getName(),Xt.Frames.MapEnd,this),this.background.inputEnabled=!0,this.background.events.onInputDown.add(this.handleInputDownOnBackground,this),this.background.events.onInputUp.add(this.handleInputUpOnBackground,this)},t.prototype.initSpine=function(){this.gateOpenSpine=this.game.add.spine(this.background.width/2,this.background.height,Oe.SpineEndGate.getKey(),void 0,this),this.gateOpenSpine.pivot.set(0,1),this.gateOpenSpine.visible=!1,this.addChild(this.gateOpenSpine)},t.prototype.initGate=function(){this._gate=new Rt(this,ct.Maps.footerMap[this.gameName]),this._gate.position.set(this.background.width/2,this.background.height),this._gate.visible=!1},t.prototype.initChest=function(){var e=Ot.i.getMapCompleted()||Ot.i.getOpenLevelsStarsCount()>=this._gate.starRequirements&&Ot.i.getLevelsData()[Ot.i.getLevelsData().length-1].starsCount>0;this.chest=wt.sprite(455,150,this.atlas.getName(),e?"chest-big-open":"chest-big-closed",this),e||this.initToolTips()},t.prototype.initToolTips=function(){var e=et.format(St.i.getString("endChest","endChest"),Ot.i.puzzlesData.length,this.mc.getEndGateStarRequirement());Nt.i.addElement(this.chest,e,Gt.Click,new Phaser.Point(0,0))},t.prototype.initSignals=function(){this._onGateClick=new Phaser.Signal,this._onDrag=new Phaser.Signal,this._onDragComplete=new Phaser.Signal},t.prototype.disposeSignals=function(){this._onGateClick.dispose(),this._onDrag.dispose(),this._onDragComplete.dispose()},t.prototype.startGateOpenAnimation=function(){var e=this;this._gate.visible=!1,this.gateOpenSpine.visible=!0,this.gateOpenSpine.setAnimationByName(0,"animation",!1),this.gateOpenSpine.onComplete.addOnce(function(){e.gateOpenSpine.visible=!0,e.gateOpenSpine.setAnimationByName(0,"stop",!1),e.gateOpenSpine.setToSetupPose()},this)},t.prototype.handleInputDownOnBackground=function(){this.dragCompleteData.previousPos=this.game.input.activePointer.y,this.dragCompleteData.prevTime=Date.now()},t.prototype.handleInputUpOnBackground=function(){this.dragCompleteData.currentPos=this.game.input.activePointer.y,this.dragCompleteData.currentTime=Date.now(),this._onDragComplete.dispatch(this.dragCompleteData)},t.prototype.destroy=function(){this.disposeSignals(),e.prototype.destroy.call(this)},t}(Phaser.Group),Vt=function(){function e(){}return e.degToRad=function(e){return e*(Math.PI/180)},e.shrinkFontIfOverlap=function(e,t,n){for(;e.width>n;)e.fontSize=t-=1},e}(),Yt=de.ImagesCommon,Zt=function(e){function t(t,n,i,a,o){var s=e.call(this,t,n)||this;return s.atlas=i,s.levelData=a,s.mapIndex=o,s.locks=[],s.initialize(),s}return Object(Ve.__extends)(t,e),t.prototype.handleResize=function(){this.initBonusText()},t.prototype.initialize=function(){this.initLockedForground(),this.initLocks(),this.addTooltips()},t.prototype.initLockedForground=function(){this.lockedForground=wt.sprite(0,0,this.atlas.getName(),this.atlas.Frames.LevelLockedBkg,this),this.lockedForground.anchor.set(.5,.5),this.initBonusText(),this.lockedForground.inputEnabled=!0,this.lockedForground.events.onInputDown.add(this.handleInputDownOnLocked,this)},t.prototype.initBonusText=function(){this.bonusText&&this.remove(this.bonusText),this.bonusText=wt.text(-3,-4,St.i.getString("bonus","Bonus"),{fill:"#ffffff",font:"bold SegoeUI",fontSize:26},this,new Phaser.Point(.5,.5)),Vt.shrinkFontIfOverlap(this.bonusText,this.bonusText.fontSize,110)},t.prototype.initLocks=function(){this.locksBackground=wt.sprite(-68,15,de.ImagesCommon.getName(),Yt.Frames.BonusLockBackground,this),this.locksBackground.events.onInputDown.add(this.handleInputDownOnLocked,this);for(var e=0;e<3-this.levelData.starsCount;++e){var t=wt.sprite(82-35*e,this.locksBackground.height/2-5,de.ImagesCommon.getName(),Yt.Frames.BonusLock,this.locksBackground);t.inputEnabled=!0,t.events.onInputDown.add(this.handleInputDownOnLocked,this),this.locks.push(t)}},t.prototype.handleInputDownOnLocked=function(){Ft.i.animateLock(this)},t.prototype.addTooltips=function(){var e=this.levelData.levelNumber+1,t=et.format(St.i.getString("bonusLevelLock","bonusLevelLock"),e);Nt.i.addElement(this.lockedForground,t,Gt.Click,new Phaser.Point(-50,-100)),Nt.i.addElement(this.locksBackground,t,Gt.Click,new Phaser.Point(0,0)),this.locks.forEach(function(e){Nt.i.addElement(e,t,Gt.Click,new Phaser.Point(0,0))})},t}(Phaser.Group),Qt=de.ImagesCommon,$t=function(e){function t(t,n,i,a,o,s,r,l){var u=e.call(this,wt.game,n)||this;return u.levelData=t,u.gameName=i,u.levelIndex=a,u._starsCount=o,u.pathAssetName=s,u.mc=r,u.mapIndex=l,u.atlas=u.getAtlas(u.gameName),null!==t&&(u._isUnlocked=3===t.starsCount||t.wasUnlockedInDebug),u.initialize(),u}return Object(Ve.__extends)(t,e),Object.defineProperty(t.prototype,"isUnlocked",{set:function(e){this._isUnlocked=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"starsCount",{get:function(){return this._starsCount},enumerable:!0,configurable:!0}),t.prototype.handleResize=function(){this.lockedGroup&&this.lockedGroup.handleResize(),this.whiteForeground&&this.levelText&&this.levelNumberText&&(this.remove(this.levelText),this.remove(this.levelNumberText),this.initTexts(),this.lockedGroup&&this.bringToTop(this.lockedGroup))},t.prototype.unlock=function(e){var t=this;this._isUnlocked&&(e||Ot.i.handleBonusPuzzleUnlocked(Ot.i.bonusPuzzles[this.levelIndex]),e&&this.lockedGroup&&this.lockedGroup.destroy(),_t.i.playLevelUnlocked(),this.mc.bonusLevelUnlocked=!0,this.initLockedGroup(),this.lockedGroup.visible=!0,this.background.visible=!0,this.initUnlockAnimation(),this.whiteForeground.alpha=.2,this.game.add.tween(this.whiteForeground).to({alpha:1},200,null,!0),this.game.add.tween(this.lockedGroup).to({alpha:0},200,null,!0).onComplete.add(function(){return t.lockedGroup.destroy()},this))},t.prototype.destroy=function(){this.disposeSignals(),e.prototype.destroy.call(this)},t.prototype.forceStarBonusPuzzles=function(e){this._starsCount=e,this.whiteForeground=null,this.initWhiteForeground(),this.unlock(!0),this.initStars()},t.prototype.initialize=function(){this.pathAssetName&&this.initPathAsset(),this.initBackground(),this.initWhiteForeground(),this.initSignals(),this._isUnlocked||this.initLockedGroup(),this.initStars()},t.prototype.initPathAsset=function(){var e=ct.Maps.patchesInfo[this.pathAssetName];this.pathAsset=wt.sprite(e.position.x,e.position.y,e.key,e.frame,this),this.pathAsset.anchor.set(.5,.5),this.pathAsset.scale.set(e.scale,e.scale)},t.prototype.initBackground=function(){this.background=wt.sprite(0,0,this.atlas.getName(),this.atlas.Frames.BonusLevelUnlockedBack,this),this.background.anchor.set(.5,.5),this.background.inputEnabled=!0,this.background.events.onInputUp.add(this.handleClick,this)},t.prototype.initWhiteForeground=function(){var e=3===this._starsCount?Qt.Frames.BonusLevelButtonGold:Qt.Frames.BonusLevelButton;this.whiteForeground=wt.sprite(0,0,de.ImagesCommon.getName(),e,this),this.whiteForeground.anchor.set(.5,.5),this.initHoverBkg(),this.initTexts(),this.whiteForeground.inputEnabled=!0,this.whiteForeground.events.onInputUp.add(this.handleClick,this)},t.prototype.initHoverBkg=function(){var e;(e=this._starsCount<3?wt.sprite(-3,-1,de.ImagesCommon.getName(),Qt.Frames.LevelButtonHover,this):wt.sprite(-1,-1,de.ImagesCommon.getName(),Qt.Frames.LevelButtonGoldHover,this)).scale.set(1.8,1.8),e.alpha=0,e.anchor.set(.5,.5),this.whiteForeground.events.onInputOver.add(function(){return Bt.i.showHoverBkg(e)},this),this.whiteForeground.events.onInputOut.add(function(){return Bt.i.hideHoverBkg(e)},this)},t.prototype.initLockedGroup=function(){this.lockedGroup=new Zt(this.game,this,this.atlas,this.levelData,this.mapIndex)},t.prototype.initStars=function(){var e=this,t=[wt.sprite(0,-65,de.ImagesCommon.getName(),Qt.Frames.BonusStarBig,this.background,new Phaser.Point(.5,.5)),wt.sprite(-30,-55,de.ImagesCommon.getName(),Qt.Frames.BonusStarSmall,this.background,new Phaser.Point(.5,.5)),wt.sprite(30,-55,de.ImagesCommon.getName(),Qt.Frames.BonusStarSmall,this.background,new Phaser.Point(.5,.5))],n=0;Ot.i.getBonusLevelsData()[this.levelIndex]&&(n=this.starsCount-Ot.i.getBonusLevelsData()[this.mapIndex].starsCount),t.forEach(function(t,n){t.visible=n<e._starsCount});for(var i=2;i>-1;--i)t[i].visible&&i<=n&&n&&(t[i].scale.set(0,0),this.game.add.tween(t[i].scale).to({x:1,y:1},1500,Phaser.Easing.Elastic.Out,!0,1e3),--n)},t.prototype.initSignals=function(){this._onClick=new Phaser.Signal},t.prototype.disposeSignals=function(){this._onClick.dispose()},t.prototype.handleClick=function(){this._onClick.dispatch()},t.prototype.handleInputDownOnLocked=function(){Ft.i.animateLock(this.lockedGroup)},t.prototype.getAtlas=function(e){switch(e){case nt.Wordament:return de.ImagesWordamentWordamentComponents;case nt.Crossword:return de.ImagesCrosswordCrosswordComponents;case nt.WordTwister:return de.ImagesJumbleJumbleComponents}},t.prototype.initUnlockAnimation=function(){var e=this.game.add.sprite(-10,-10,de.ImagesAnimations.getName(),de.ImagesAnimations.Frames.NodeUnlock,this);e.anchor.set(.5,.5);var t=tt.getFramesWithKey("node-unlock",15);e.animations.add("unlock",t,20),setTimeout(function(){return e.animations.play("unlock")},500)},t.prototype.initTexts=function(){this.levelText=wt.text(-4,-7,St.i.getString("bonus","Bonus"),{font:"bold SegoeUI",fontSize:24},this,new Phaser.Point(.5,.5)),Vt.shrinkFontIfOverlap(this.levelText,this.levelText.fontSize,90),this.levelNumberText=wt.text(-4,this.levelText.y+this.levelText.height/2+10,(this.levelIndex+1).toString(),{font:"bold SegoeUI",fontSize:24},this,new Phaser.Point(.5,.5))},t}(Phaser.Group),en=function(){function e(){}return e.prototype.isThreeStared=function(){return 3===this.starsCount},e}(),tn=function(){function e(e,t){this.game=e,this.messageService=t,this.initialize()}return Object.defineProperty(e.prototype,"gateOpened",{get:function(){return this._gateOpened},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bonusLevelUnlocked",{get:function(){return this._bonusLevelUnlocked},set:function(e){this._bonusLevelUnlocked=e},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.disposeSignals(),delete this.game,delete this.messageService},e.prototype.handleMapCompleted=function(){this.messageService.sendMessageToWrapper({state:it.Map,action:"complete"})},e.prototype.getEndGateStarRequirement=function(){return Math.floor(Ot.i.mapData.skins.length*Ot.i.puzzleCountPerSection*3*.646)},e.prototype.handleGateOpened=function(e){this._gateOpened.dispatch(e)},e.prototype.getRandomBonusLevel=function(e,t){var n=Ot.i.mapData.skins[e].spline.bonusPuzzles;return n[t.next(0,n.length)]},e.prototype.getEndGameBonusLevelData=function(e){return Ot.i.getBonusLevels()[e]||Ot.i.mapData.skins[e-1].spline.bonusPuzzles[this.game.rnd.integerInRange(0,Ot.i.mapData.skins[e-1].spline.bonusPuzzles.length-1)]},e.prototype.getEndGameKeyLevelData=function(e){var t=new en;return t.levelNumber=e.puzzleNodeIndex,t},e.prototype.checkIfEndBonusLevelIsUnlocked=function(e,t,n){var i=(Ot.i.puzzleCountPerSection+1)*n*3,a=0;e.forEach(function(e){return a+=e.starsCount});for(var o=0;o<t.length;++o)a+=t[o].starsCount;return a===i},e.prototype.getBonusStarsCount=function(e){return e.data&&e.data.objectives?e.data.objectives.filter(function(e){return e.max===e.done&&e.checked}).length:0},e.prototype.handleSmallChestOpened=function(e){Ot.i.saveOpenedChest(e),this.messageService.sendMessageToWrapper({state:it.Map,action:"chest",large:!1})},e.prototype.sendMapPerfected=function(){this.messageService.sendMessageToWrapper({state:it.Map,action:at.MapPerfected})},e.prototype.handleFtueStepComplete=function(e){this.messageService.sendMessageToWrapper({state:it.Ftue,step:e,action:"complete"})},e.prototype.handleBonusLevelClick=function(e){Ot.i.isLevelSelected=!0,this.messageService.sendMessageToWrapper({state:it.Map,action:"play",bonus:!0,puzzle:Ot.i.bonusPuzzles[e],level:e})},e.prototype.saveLevel=function(e){Ot.i.saveLevel(e.index,e.starsCount,!0)},e.prototype.initialize=function(){this.messageService.sendMessageToWrapper({state:"started"}),this.initSignals()},e.prototype.initSignals=function(){this._gateOpened=new Phaser.Signal},e.prototype.disposeSignals=function(){this._gateOpened.dispose()},e}(),nn=de.ImagesCommon,an=function(e){function t(t,n,i,a){return e.call(this,t,n,i,a,0)||this}return Object(Ve.__extends)(t,e),t.prototype.initLocks=function(){this.lockPanel=wt.sprite(-3,35,de.ImagesCommon.getName(),nn.Frames.EndMapLock,this.lockedForground,new Phaser.Point(.5,.5));var e=Math.max(0,Ot.i.mapData.skins.length*(Ot.i.puzzleCountPerSection+1)*3-Ot.i.getOpenLevelsStarsCount());wt.text(10,3,e.toString(),{font:"SegoeUI",fontSize:20,fill:"#ffffff"},this.lockPanel,new Phaser.Point(.5,.5)),wt.sprite(-28,0,de.ImagesCommon.getName(),nn.Frames.EndLock,this.lockPanel,new Phaser.Point(.5,.5)),this.lockPanel.events.onInputDown.add(this.handleInputDownOnLocked,this)},t.prototype.addTooltips=function(){var e=St.i.getString("endGameBonusLevelLock","endGameBonusLevelLock");Nt.i.addElement(this.lockedForground,e,Gt.Click,new Phaser.Point(-50,-100)),Nt.i.addElement(this.lockPanel,e,Gt.Click,new Phaser.Point(-50,-100))},t}(Zt),on=function(e){function t(t,n,i,a,o,s,r){var l=e.call(this,t,n,i,a,o,null,r,0)||this;return l.levelData=t,l.gameName=i,l.levelIndex=a,l._starsCount=o,l._isUnlocked=s,l.initLocks(),l._isUnlocked&&l.lockedGroup.kill(),l}return Object(Ve.__extends)(t,e),t.prototype.initLocks=function(){this.lockedGroup=new an(this.game,this,this.atlas,this.levelData)},t.prototype.initLockedGroup=function(){},t.prototype.initStars=function(){e.prototype.initStars.call(this);var t=0;Ot.i.getBonusLevelsData()[this.levelIndex]&&(t=Ot.i.getBonusLevelsData()[this.levelIndex].starsCount),this._starsCount!==t&&3===this._starsCount&&this.mc.sendMapPerfected()},t}($t),sn=function(e){function t(t,n,i,a,o){var s=e.call(this,wt.game,o)||this;return s._height=t,s._itemsHeight=n,s.scroller=i,s.background=a,s.addChild(s.background),s.addChild(s.scroller),s.initialize(),s}return Object(Ve.__extends)(t,e),Object.defineProperty(t.prototype,"onDrag",{get:function(){return this._onDrag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,this.scroller.inputEnabled=!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bkgHeight",{set:function(e){this.background.resize(this.background.width,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollerHeight",{set:function(e){this.scroller.resize(this.scroller.width,this.background.height*e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bkgAlpha",{set:function(e){this.background.alpha=e},enumerable:!0,configurable:!0}),t.prototype.setProgress=function(e){this.scroller.y=Math.max((this.background.height-this.scroller.height)*e,0)},t.prototype.initialize=function(){this.initSignals(),this.initBackground(),this.initScroller()},t.prototype.initBackground=function(){this.background.alpha=.2,this.background.inputEnabled=!0},t.prototype.initSignals=function(){this._onDrag=new Phaser.Signal},t.prototype.disposeSignals=function(){this._onDrag.dispose()},t.prototype.initScroller=function(){this.scroller.alpha=.4,this.scroller.inputEnabled=!0,this.scroller.input.enableDrag(),this.scroller.input.allowHorizontalDrag=!1,this.scroller.events.onInputOver.add(this.handleScrollerInputOver,this),this.scroller.events.onInputOut.add(this.handleScrollerInputOut,this),this.scroller.events.onDragUpdate.add(this.handleScrollerDragUpdate,this)},t.prototype.handleScrollerInputOver=function(){this.scroller.alpha=.7},t.prototype.handleScrollerInputOut=function(){this.scroller.alpha=.4},t.prototype.handleScrollerDragUpdate=function(){this.disabled||(this.scroller.y<0?this.scroller.y=0:this.scroller.y>this.background.height-this.scroller.height&&(this.scroller.y=this.background.height-this.scroller.height),this._onDrag.dispatch(1-this.scroller.y/(this.background.height-this.scroller.height)))},t.prototype.destroy=function(){this.disposeSignals(),e.prototype.destroy.call(this)},t}(Phaser.Group),rn=n("haXk"),ln=function(){function e(e){this.MSMALL=new rn.Decimal("-2147483648"),this.MBIG=new rn.Decimal("2147483647"),this.MSEED=new rn.Decimal("161803398"),this.MZ=new rn.Decimal(0),this.seedArray=[];for(var t,n,i,a=new rn.Decimal(e),o=0;o<56;++o)this.seedArray.push(new rn.Decimal(0));var s=a.equals(this.MSMALL)?this.MBIG:a.abs();for(n=this.MSEED.sub(s),this.seedArray[55]=n,i=new rn.Decimal(1),o=1;o<55;++o)this.seedArray[t=21*o%55]=i,(i=n.sub(i)).lessThan(new rn.Decimal(0))&&(i=i.add(this.MBIG)),n=this.seedArray[t];for(var r=1;r<5;++r)for(o=1;o<56;++o)this.seedArray[o]=this.seedArray[o].sub(this.seedArray[1+(o+30)%55]),this.seedArray[o].lessThan(new rn.Decimal(0))&&(this.seedArray[o]=this.seedArray[o].add(this.MBIG));this.inext=new rn.Decimal(0),this.inextp=new rn.Decimal(21)}return e.prototype.nextInt=function(e){return parseInt(this.sample().mul(e).toNumber().toString(),10)},e.prototype.next=function(e,t){if(!(e>t)){var n=new rn.Decimal(e),i=new rn.Decimal(t).sub(n);return i.lessThanOrEqualTo(this.MBIG)?parseInt(i.mul(this.sample()).add(n).toNumber().toString(),10):parseInt(i.mul(this.getSampleForLargeRange()).add(n).toNumber().toString(),10)}console.error("argument out of range")},e.prototype.sample=function(){return new rn.Decimal(this.internalSample().mul(new rn.Decimal(1).div(this.MBIG)))},e.prototype.getSampleForLargeRange=function(){var e=this.internalSample();this.internalSample().mod(2).equals(0)&&(e=e.mul(-1));var t=e.toNumber();return(t+=this.MBIG.sub(1).toNumber())/this.MBIG.mul(2).sub(1).toNumber()},e.prototype.internalSample=function(){var e,t=this.inext,n=this.inextp;return t=t.add(1),n=n.add(1),t.greaterThanOrEqualTo(56)&&(t=new rn.Decimal("1")),n.greaterThanOrEqualTo(56)&&(n=new rn.Decimal("1")),(e=this.seedArray[t.toNumber()].sub(this.seedArray[n.toNumber()])).equals(this.MBIG)&&(e=e.sub(1)),e.lessThan(0)&&(e=e.add(this.MBIG)),this.seedArray[t.toNumber()]=e,this.inext=t,this.inextp=n,e},e}(),un=de.ImagesCommon,cn=function(e){function t(t,n,i,a){var o=e.call(this)||this;return o.gameName=t,o.seed=n,o.messageService=i,o.debugManager=a,o.maps=[],o.isFirstTime=!1,o.levels=[],o.bonusLevels=[],o.scrollEnabled=!0,o.calculatedScale=1,o.lowerBound=0,o.blockerRemoved=!1,o.onResizeCallBack=o.onResize.bind(o),o.onResizeDelayedCallback=function(){o.resizeTimeOut&&clearTimeout(o.resizeTimeOut),o.resizeTimeOut=setTimeout(o.onResizeCallBack,100)},window.addEventListener("resize",o.onResizeDelayedCallback),o.messageService.onGameMessage.pipe(Object(Je.a)(o.messageService.destroy$)).subscribe(function(e){o.handleOnMessage(e)}),o.initialize(),o.onResize(),o}return Object(Ve.__extends)(t,e),t.showLevelOpenAnimation=function(e){e.isOpen=!0,e.lock(),e.unlock()},t.prototype.handleOnMessage=function(e){e.state===it.Ftue?(0===e.step&&this.handleFtueStart(),1===e.step&&this.handleFtueFirstStep(),2===e.step&&this.handleFtueSecondStep(),-1===e.step&&this.hideFtue()):e.action===at.ChestEarnComplete?this.handleChestEarnComplete():e.action===at.BonusLevelUnlockComplete?this.handleBonusLevelUnlockComplete():e.state===it.Settings?It.i.updateSettings(e):e.action===at.CancelLevelAutoSelect&&this.handleCancelAutoSelectLevel()},t.prototype.getKeyLevelData=function(e,t){var n=new en,i=e.puzzleNodeIndex;this.maps[t].chestIndex>i&&i++;var a=this.maps[t].levels[i-1];n.levelNumber=a.index,n.starsCount=a.starsCount;var o=Ot.i.getBonusLevels();return o&&o[t]&&(n.wasUnlockedInDebug=o[t].wasOpenedInDebug),n},t.prototype.destroy=function(){window.removeEventListener("resize",this.onResizeDelayedCallback),this.resizeTimeOut&&clearTimeout(this.resizeTimeOut),Dt.instance.destroy(),_t.i.destroy(),Ot.i.destroy(),this.maps.forEach(function(e){return e.destroy()}),this.mc.destroy(),this.game.tweens.getAll().forEach(function(e){e.isRunning&&e.stop(),e.onStart.dispose(),e.onComplete.dispose(),e.onRepeat.dispose()}),delete this.maps,delete this.messageService,e.prototype.destroy.call(this)},t.prototype.initialize=function(){var e=Ot.i.getCurrentLevelIndex();this.initInitialData(),this.initFooter(),this.initMaps(),this.initEnd(),this.calculateScaling(),this.initScrollBar(),this.findCurrentLevelAndInitPointer(e),this.initWorldBounds(),this.initBonusLevels(),this.disableGameInput(),this.attachListeners(),this.adjustZIndex(),this.checkIfCanPassMap()},t.prototype.onResize=function(){this.calculateScaling(),this.resizeScroller(),this.adjustScrollBar(),this.checkBounds(),this.resizeBonusLevels(),this.resizeLevelNumbers(window.innerWidth<t.windowBreakPoint),this.blocker&&!this.blockerRemoved&&(this.focusOnGate(this.blockerMap),this.resizeBlocker())},t.prototype.resizeScroller=function(){this.scrollBar.bkgHeight=this.game.height+5,this.scrollBar.scrollerHeight=this.game.height/(this.mapsHeight*this.calculatedScale)},t.prototype.resizeBonusLevels=function(){this.bonusLevels.forEach(function(e){return e.handleResize()})},t.prototype.calculateScaling=function(){var e=document.getElementById("map"),t=e.clientWidth/this.game.world.width/(e.clientHeight/this.game.world.height);this.calculatedScale=t,this.mapsHeight=this.getMapsHeight(),this.lowerBound=this.game.height*(1-this.calculatedScale),Nt.i.scale=t,this.scale.y=t},t.prototype.resizeBlocker=function(){this.game.world.removeChild(this.blocker),this.game.world.removeChild(this.blockerText),this.showBlocker(this.blockerMap)},t.prototype.resizeLevelNumbers=function(e){this.levels.forEach(function(t){return t.resizeLevelNumber(e)})},t.prototype.initInitialData=function(){Bt.i.init(this.game),this.mc=new tn(this.game,this.messageService),Dt.instance.initialize(),Ot.i.setMapController(this.mc),this.isFirstTime=Ot.i.getIsFirstTime(),this.game.input.enabled=!1,this.scrollEnabled=!1},t.prototype.initFooter=function(){var e=ct.Maps.footerMap[this.gameName];this.footer=wt.sprite(0,this.game.world.height,e.key,e.footerFrame,this,new Phaser.Point(0,1)),this.footer.scale.set(.94,.94),this.footerOverlay=wt.sprite(0,-this.footer.height-e.overlay.dy,e.key,e.overlay.frame,this.footer)},t.prototype.initMaps=function(){var e=this,t=0,n=Ot.i.getCurrentLevelIndex(),i=new ln(this.seed);Ot.i.mapData.skins.forEach(function(a,o){t=e.initNewMapView(a,o,n,t,i)}),this.mapsHeight=this.getMapsHeight()},t.prototype.initEnd=function(){this.endMap=new Kt(this.game,this,this.gameName,this.mc,this.maps.length),this.endMap.pivot.y=this.endMap.height,this.endMap.y=this.game.world.height-this.mapsHeight-this.footer.height,this.setChildIndex(this.endMap,0),this.endMap.onDrag.add(this.handleMapDrag,this),this.endMap.onDragComplete.add(this.handleDragComplete,this)},t.prototype.initWorldBounds=function(){Dt.instance.add(this,this.handleScroll,this),this.isFirstTime?(this.startScrollingFromTop(),Ot.i.setIsFirstTime()):this.pointerScaleTween.start()},t.prototype.initBonusLevels=function(){var e=Ot.i.bonusPuzzlesData;this.initRegularBonusLevels(e),this.initEndBonusLevel(e)},t.prototype.initScrollBar=function(){var e=wt.nineSliceSprite(this.game.world.width-15,-3,de.ImagesCommon.getName(),18,this.game.height+5,{top:16,bottom:16,left:12,right:12},un.Frames.ScrollerDark,this.game.world),t=e.height*this.game.height/(this.mapsHeight*this.calculatedScale),n=wt.nineSliceSprite(this.game.width-15,this.game.height-100,de.ImagesCommon.getName(),18,t,{top:16,bottom:16,left:12,right:12},un.Frames.Scroller,this.game.world);this.scrollBar=new sn(0,0,n,e,this.game.world),this.scrollBar.onDrag.add(this.handleScrollBarDrag,this),this.scrollBar.bkgAlpha=.5,this.scrollBar.visible=!0,this.scrollBar.fixedToCamera=!0,this.adjustScrollBar()},t.prototype.adjustZIndex=function(){var e=this;[this.endMap].concat(this.maps.reverse(),[this.footer],this.bonusLevels,[this.pointer]).forEach(function(t,n){return e.setChildIndex(t,n)}),this.maps.reverse()},t.prototype.initRegularBonusLevels=function(e){var t=this,n=new ln(this.seed);this.maps.forEach(function(i,a){var o,s=t.mc.getRandomBonusLevel(a,n),r=t.getKeyLevelData(s,a);s.starsCount=t.mc.getBonusStarsCount(e[a]);var l=t.mc.getBonusStarsCount(e[a]);o=t.initializeNewBonusLevel(r,a,l,s.patch.guid,i,s),s.alreadyOpened=Ot.i.getBonusPuzzleUnlocked(a),s.alreadyOpened||r.wasUnlockedInDebug||o.unlock(),Ot.i.saveBonusLevels(a,s.starsCount,3===r.starsCount)})},t.prototype.initEndBonusLevel=function(e){var t=this.mc.getEndGameBonusLevelData(this.maps.length),n=this.mc.getEndGameKeyLevelData(t);n.starsCount=this.mc.getBonusStarsCount(e[this.maps.length]);var i=n.starsCount,a=this.mc.checkIfEndBonusLevelIsUnlocked(this.levels,this.bonusLevels,this.maps.length)||t.wasOpenedInDebug;this.initEndGameBonusLevel(null,i,a),Ot.i.saveBonusLevels(this.maps.length,n.starsCount,a)},t.prototype.initNewMapView=function(e,t,n,i,a){var o,s=this.footer.y-this.footer.height;return(o=new qt(this.game,this,e.name,this.gameName,i,n,t,this.mc,a)).pivot.y=o.backgroundSpriteHeight,this.chestOpened=this.chestOpened||o.chestOpened,o.position.y=s-t*o.backgroundSpriteHeight,i+=o.levels.length,this.levels=this.levels.concat(o.levels),this.maps.push(o),o.onDrag.add(this.handleMapDrag,this),o.onDragComplete.add(this.handleDragComplete,this),i},t.prototype.initEndGameBonusLevel=function(e,t,n){var i=new on(e,this,this.gameName,this.maps.length,t,n,this.mc);i.position.set(this.endMap.x+970,this.endMap.y-250),i.onClick.add(this.mc.handleBonusLevelClick.bind(this,this.maps.length),this),this.bonusLevels.push(i),!Ot.i.getBonusPuzzleUnlocked(this.maps.length)&&n&&i.unlock()},t.prototype.findCurrentLevelAndInitPointer=function(e){var t=this.levels[e],n=Ot.i.getPreviousLevel()||this.levels[0],i=this.getMapIndexByLevelIndex(e),a=this.getMapIndexByLevelIndex(n.index);0!==t.index?this.initPointer(this.levels[n.index],t,i,a):this.activateFirstLevel()},t.prototype.initPointer=function(e,t,n,i){Ot.i.isCurrentLevelOpen()?this.initPointerSprite(t,n):(t.lock(),this.initPointerSprite(e,i),this.initTransitionTween(t.index),e.index!==t.index&&this.selectCurrentLevel(t)),this.initPointerScaleTween(t),this.mc.saveLevel(t),this.mc.saveLevel(e),this.transitionToCurrentLevel(e,t);var a=Ot.i.getLastOpenedMap();if(a===this.maps.length)this.maps.forEach(function(e){return e.initOpenedGates()}),this.endMap.initOpenedGates();else if(0===a)this.maps[0].initOpenedGates();else for(var o=0;o<=a;++o)this.maps[o].initOpenedGates();t.startIdleAnimation(),Ot.i.getIfMapWasPerfectedInDebug()&&(this.maps.forEach(function(e){return e.initOpenedGates()}),this.endMap.initOpenedGates())},t.prototype.startScrollingFromTop=function(){var e=this;this.game.input.onUp.addOnce(this.handleInputDownOnGame,this),this.y=this.lowerBound,this.mapScrollTween=this.game.add.tween(this.position),this.mapScrollTween.from({y:this.mapsHeight*this.calculatedScale},1800*this.maps.length,null,!0,500),this.mapScrollTween.onComplete.addOnce(function(){e.pointerScaleTween.start(),e.isFtue&&e.handleFtueFirstStep()},this),this.mapScrollTween.onUpdateCallback(function(){e.adjustScrollBar(),e.checkBounds()},this)},t.prototype.transitionToCurrentLevel=function(e,t){this.focusScreenOn(this.transitionTween?e:t)},t.prototype.initTransitionTween=function(e,t){console.log("Animating Pointer: "+e);var n=this.levels[e||Ot.i.getCurrentLevelIndex()],i=this.getMapIndexByLevelIndex(n.index),a=this.maps[i].y-this.maps[i].backgroundSpriteHeight;t||this.focusScreenOn(this.levels[e-1]||this.levels[0]);var o=n.index%Ot.i.puzzleCountPerSection;this.transitionTween=this.game.add.tween(this.pointer.position).to({x:this.maps[i].levels[o].x-3,y:a+this.maps[i].levels[o].y-20},500,null,!1,350)},t.prototype.getMapIndexByLevelIndex=function(e){return this.maps.indexOf(this.maps.filter(function(t){return t.levels.some(function(t){return t.index===e})})[0])||0},t.prototype.initializeNewBonusLevel=function(e,t,n,i,a,o){var s=new $t(e,this,this.gameName,t,n,i,this.mc,t);return s.position.set(a.x+o.position.x,a.y-o.position.y),s.onClick.add(this.mc.handleBonusLevelClick.bind(this.mc,t),this),this.bonusLevels.push(s),s},t.prototype.handleScrollBarDrag=function(e){this.scrollEnabled&&(this.y=this.lowerBound+(this.mapsHeight*this.calculatedScale-this.lowerBound)*e,this.checkBounds())},t.prototype.initPointerSprite=function(e,t){this.pointer=this.game.add.image(0,0,de.ImagesCommon.getName(),un.Frames.Pointer,this);var n=e.index%Ot.i.puzzleCountPerSection,i=this.maps[t].y-this.maps[t].backgroundSpriteHeight;this.pointer.x=this.maps[t].levels[n].x-3,this.pointer.y=i+this.maps[t].levels[n].y-20,this.pointer.anchor.set(.5,1),this.pointer.scale.set(0,0)},t.prototype.selectCurrentLevel=function(e){this.transitionTween.onComplete.add(function(){e.handleLevelInputUp()},this)},t.prototype.handleCancelAutoSelectLevel=function(){Ot.i.isLevelSelected=!0},t.prototype.initPointerScaleTween=function(e){var t=this;this.pointerScaleTween=this.game.add.tween(this.pointer.scale).to({x:1,y:1},500,null,!1,1e3),e.index%Ot.i.puzzleCountPerSection==0&&0!==e.index||this.pointerScaleTween.onComplete.add(function(){if(t.isFtue&&t.mc.handleFtueStepComplete(0),t.transitionTween)if(e.unlock(),t.chestOpened)t.chestOpened=!1;else if(t.mc.bonusLevelUnlocked)t.mc.bonusLevelUnlocked=!1;else{if(t.isFirstTime)return;t.scrollToLevel(e,350).onComplete.add(function(){t.transitionTween&&t.transitionTween.start()},t)}},this)},t.prototype.attachListeners=function(){var e=this;this.mc.gateOpened.add(this.handleGateOpened,this),this.debugManager.onAllPuzzlesUnlock.pipe(Object(Je.a)(this.messageService.destroy$)).subscribe(function(){e.debugUnlockAllLevels()}),this.debugManager.onThreeStarAllLevels.pipe(Object(Je.a)(this.messageService.destroy$)).subscribe(function(){e.debugStarAllLevels(3)}),this.debugManager.onStarCurrentLevel.pipe(Object(Je.a)(this.messageService.destroy$)).subscribe(function(){e.debugStarCurrentLevel(3)})},t.prototype.handleInputDownOnGame=function(){this.mapScrollTween&&this.mapScrollTween.isRunning&&this.cancelMapScrolling()},t.prototype.cancelMapScrolling=function(){this.mapScrollTween.stop(!0),this.y=this.lowerBound,this.adjustScrollBar(),this.pointerScaleTween.start()},t.prototype.adjustScrollBar=function(){this.scrollBar.setProgress(1-(this.y-this.lowerBound)/(this.mapsHeight*this.calculatedScale-this.lowerBound))},t.prototype.handleGateOpened=function(e,t){e===this.maps.length?this.handleGateOpen(this.endMap,t):(this.transitionTween&&(this.transitionTween.stop(),this.transitionTween=null),this.handleGateOpen(this.maps[e],t))},t.prototype.handleGateOpen=function(e,t){var n=this;e.getMapIndex()!==Ot.i.getLastOpenedMap()&&(e.levels?this.scrollToGate(e,350).onComplete.add(function(){n.sendGateOpened(e,t),e.enableGateClick(),e.onGateClick.add(n.handleGateOpenComplete.bind(n,!1,t),n)},this):this.scrollToGate(this.endMap,350,!0).onComplete.add(function(){n.sendGateOpened(e,t),e.enableGateClick(),e.onGateClick.add(n.handleGateOpenComplete.bind(n,!0,t),n)},this))},t.prototype.handleGateOpenComplete=function(e,n,i){var a=this;i.onComplete.addOnce(function(){if(e)return a.endMap.openChest(),n||Ot.i.saveLastMap(a.maps.length),n||Ot.i.saveMapCompleted(),void setTimeout(function(){a.sendGateOpenComplete(),a.mc.handleMapCompleted()},300);if(!n){var i=a.levels[Ot.i.getCurrentLevelIndex()];t.showLevelOpenAnimation(i);var o=a.getMapIndexByLevelIndex(Ot.i.getCurrentLevelIndex());Ot.i.saveLastMap(o),setTimeout(function(){a.transitionTween||a.initTransitionTween(i.index,!0),a.transitionTween.start(),a.sendGateOpenComplete(n),a.selectCurrentLevel(i)},600)}},this)},t.prototype.sendGateOpenComplete=function(e){this.scrollEnabled=!0,this.scrollBar.disabled=!1;var t={state:it.Map,action:"gateOpenComplete"};this.blocker&&(this.blockerRemoved=!0,this.game.world.removeChild(this.blocker),this.game.world.removeChild(this.blockerText)),Pt.i.setGateOpenTutorialSeen(),e||this.mc.messageService.sendMessageToWrapper(t)},t.prototype.sendGateOpened=function(e,t){t||(this.scrollEnabled=!1,this.scrollBar.disabled=!0),this.mc.messageService.sendMessageToWrapper({state:it.Map,action:"gateOpened"}),Pt.i.isGateOpenTutorialSeen()||this.showBlocker(e),this.lockCurrentLevel()},t.prototype.showBlocker=function(e){this.game.stage.updateTransform();var t=new Phaser.Graphics(this.game,0,0),n=new Phaser.Graphics(this.game,0,0),i=St.i.getString("gateOpenedBlockerText","You've collected enough stars to open the gate! \n Click here to open it"),a=new Phaser.Text(this.game,0,0,i,{font:32*this.calculatedScale+"px SegoeUI",fill:"#fff",align:"center"}),o=e.getGateWidth()+150*this.calculatedScale,s=18*this.calculatedScale+(this.game.width-o)/2,r=e.gate.worldPosition.y-(e.getGateHeight()+40)*this.calculatedScale,l=e.getGateHeight()*this.calculatedScale+80*this.calculatedScale;this.blockerMap=e,t.beginFill(0,.7),t.drawRect(0,0,this.game.width,this.game.height),t.endFill(),n.beginFill(16777215,1),n.drawRect(0,r,o,l),n.endFill();var u=this.game.add.bitmapData(this.game.width,this.game.height);u.alphaMask(new Phaser.Sprite(this.game,0,0,t.generateTexture()),new Phaser.Sprite(this.game,s,r,n.generateTexture())),u.update(),u.processPixelRGB(function(e){return e.a=Math.min(255-e.a,175),e},this),this.blocker=this.game.add.image(0,0,u,null,this.game.world),a.scale.set(1/this.calculatedScale,1),a.position.set((this.game.width-a.width)/2,r-a.height-20*this.calculatedScale),this.blocker.addChild(a),this.disableInput(e)},t.prototype.disableInput=function(e){var t=this;this.blocker.inputEnabled=!0,this.blocker.events.onInputDown.add(function(){var n=e.getGateHeight()+150*t.calculatedScale,i=(t.game.width-n)/2,a=270*t.calculatedScale,o=e.getGateHeight()*t.calculatedScale+80*t.calculatedScale,s=(n-e.getGateWidth())/2,r=(o-e.getGateHeight())/2,l=t.game.input.activePointer;l.x>i+s&&l.x<i+n-s&&l.y>a+r&&l.y<a+o-r&&e.openGates()},this)},t.prototype.lockCurrentLevel=function(){var e=Ot.i.getCurrentLevelIndex(),t=this.levels[e];this.getMapIndexByLevelIndex(e)===this.maps.length-1&&e%Ot.i.puzzleCountPerSection!=1||t.lock()},t.prototype.activateFirstLevel=function(){var e=this.maps[0].levels[0];e.isOpen=!0,this.initPointer(e,e,0,0)},t.prototype.handleScroll=function(e){this.scrollEnabled&&(Nt.i.hideAllTooltips(),this.y+=10*e,this.checkBounds(),this.adjustScrollBar())},t.prototype.focusScreenOn=function(e){if(!this.isFirstTime){var t=this.calculateAbsolutePosition(e)-200*this.calculatedScale;this.y=Math.abs(t*this.calculatedScale),this.checkBounds()}},t.prototype.scrollToLevel=function(e,t){var n=this,i=this.game.add.tween(this.position),a=this.calculateAbsolutePosition(e)-200*this.calculatedScale;return i.to({y:a*this.calculatedScale},t,null,!0),i.onUpdateCallback(function(){n.checkBounds(),n.adjustScrollBar()},this),i.onComplete.add(function(){n.checkBounds(),n.adjustScrollBar()},this),i},t.prototype.focusOnGate=function(e){var t=-(e.y+e.backgroundSpriteHeight-e.getGatePositionY()+e.getGateHeight()-this.game.height/1.5)*this.calculatedScale;this.y=t,this.checkBounds(),this.adjustScrollBar()},t.prototype.scrollToGate=function(e,t,n){var i=this;void 0===n&&(n=!1);var a=this.game.add.tween(this.position),o=n?-(e.y-e.getGatePositionY())-150:-(e.y+e.backgroundSpriteHeight-e.getGatePositionY()+e.getGateHeight()-this.game.height/1.5)*this.calculatedScale;return a.to({y:o},t,null,!0),a.onUpdateCallback(function(){this.checkBounds(),this.adjustScrollBar()},this),a.onComplete.add(function(){i.checkBounds(),i.adjustScrollBar()},this),a},t.prototype.calculateAbsolutePosition=function(e){var t=this.getMapIndexByLevelIndex(e.index);return(t+1)*this.maps[t].backgroundSpriteHeight-e.y},t.prototype.handleChestEarnComplete=function(){if(this.transitionTween){this.transitionTween.start();var e=this.levels[Ot.i.getCurrentLevelIndex()];this.transitionTween.onComplete.add(this.scrollToLevel.bind(this,e,350)),this.transitionTween=null}},t.prototype.handleBonusLevelUnlockComplete=function(){if(this.transitionTween){this.transitionTween.start();var e=this.levels[Ot.i.getCurrentLevelIndex()];this.transitionTween.onComplete.add(this.scrollToLevel.bind(this,e,350)),this.transitionTween=null}},t.prototype.getMapsHeight=function(){var e=0;return this.maps.forEach(function(t){return e+=t.backgroundSpriteHeight}),e},t.prototype.checkIfCanPassMap=function(){if(!Ot.i.getIfMapWasPerfectedInDebug()){var e=this.levels.filter(function(e){return e.starsCount>0}),t=this.levels.indexOf(e[e.length-1]);((t=t>=0?t:this.levels.length-1)+1)%Ot.i.puzzleCountPerSection==0&&(t<=0||0!==this.levels[t].starsCount&&Ot.i.dispatchGateOpened(t))}},t.prototype.disableGameInput=function(){var e=this;this.gameInputTimeout=setTimeout(function(){e.isFtue||(e.game.input.enabled=!0)},350),setTimeout(function(){return e.scrollEnabled=!0},500)},t.prototype.handleMapDrag=function(e){this.scrollEnabled&&(this.dragTween&&this.dragTween.stop(!0),this.y-=e,this.checkBounds(),this.adjustScrollBar())},t.prototype.handleDragComplete=function(e){var t=this;if(this.scrollEnabled&&!(e.currentTime-e.prevTime>300)){var n=e.previousPos-e.currentPos,i=e.currentTime/e.prevTime;this.dragTween=this.game.add.tween(this).to({y:this.y-n/i*1.75},800*i,Phaser.Easing.Exponential.Out,!0),this.dragTween.onUpdateCallback(function(){t.checkBounds(),t.adjustScrollBar()},this),this.dragTween.onComplete.add(function(){t.checkBounds(),t.adjustScrollBar()},this)}},t.prototype.checkBounds=function(){this.y>=this.mapsHeight*this.calculatedScale&&(this.y=this.mapsHeight*this.calculatedScale),this.y<=this.lowerBound&&(this.y=this.lowerBound)},t.prototype.handleFtueStart=function(){clearTimeout(this.gameInputTimeout),this.scrollEnabled=!1,this.isFtue=!0,this.game.input.enabled=!0},t.prototype.handleFtueFirstStep=function(){this.game.input.enabled=!1},t.prototype.handleFtueSecondStep=function(){this.game.input.enabled=!0,this.scrollEnabled=!1,this.initArrowAnimation()},t.prototype.hideFtue=function(){this.scrollEnabled=!0,this.game.input.enabled=!0,this.ftueArrow&&this.ftueArrow.kill()},t.prototype.initArrowAnimation=function(){this.initFtueArrowAnimation(this.maps[0].levels[0])},t.prototype.initFtueArrowAnimation=function(e){this.ftueArrow=wt.sprite(e.worldPosition.x+120,t.ftueArrowPositionY,de.ImagesCommon.getName(),un.Frames.FtueArrow,this,new Phaser.Point(.5,.5)),this.game.add.tween(this.ftueArrow.position).to({x:this.ftueArrow.x+30},650,null,!0,0,-1,!0)},t.prototype.debugUnlockAllLevels=function(){Ot.i.getIfMapWasPerfectedInDebug()||Ot.i.getIfMapWasUnlockedInDebug()||(this.levels.forEach(function(e){t.showLevelOpenAnimation(e),e.resizeLevelNumber(window.innerWidth<t.windowBreakPoint),Ot.i.saveLevel(e.index,0,!0,!0)}),this.bonusLevels.forEach(function(e,t){e.isUnlocked=!0,e.unlock(!0),Ot.i.saveBonusLevels(t,3,!0,!0)}),Ot.i.saveMapAsUnlockedInDebug())},t.prototype.debugStarAllLevels=function(e){var n=this;if(console.log("Perfecting Map!"),!Ot.i.getIfMapWasPerfectedInDebug()){var i=["crossword","wordTwister","wordament"][this.gameName];Pt.i.setGateOpenTutorialSeen(),this.bonusLevels.forEach(function(t,a){t.isUnlocked=!0,t.unlock(!0),t.forceStarBonusPuzzles(e),Ot.i.saveBonusLevels(a,e,!0,!0),n.debugManager.fakeCompleteBonusLevel(i,Ot.i.mapId,Ot.i.bonusPuzzles[a])}),this.levels.forEach(function(a){a.starsCount=e,a.forceOpen(),Ot.i.saveLevel(a.index,e,!0,!0),t.showLevelOpenAnimation(a),a.resizeLevelNumber(window.innerWidth<t.windowBreakPoint),n.debugManager.fakeCompleteRegularLevel(i,Ot.i.mapId,Ot.i.puzzlesData[a.index].id)}),this.maps.forEach(function(e){return e.openGates()}),this.endMap.openGates(),Ot.i.saveLastMap(this.maps.length),Ot.i.saveMapCompleted(),Ot.i.saveMapAsPerfectedInDebug(),this.debugManager.threeStarAllLevelsDone()}},t.prototype.debugStarCurrentLevel=function(e){void 0===e&&(e=3),console.log("3 Star Current Level!");for(var n=["crossword","wordTwister","wordament"][this.gameName],i=0;i<this.levels.length;i++)if(!(this.levels[i].starsCount>0)){console.log("starring current level: "+i),this.debugManager.fakeCompleteRegularLevel(n,Ot.i.mapId,Ot.i.puzzlesData[this.levels[i].index].id),this.levels[i].starsCount=e,this.levels[i].forceOpen(),Ot.i.saveLevel(i,e,!0,!0),t.showLevelOpenAnimation(this.levels[i]),t.showLevelOpenAnimation(this.levels[i+1]),this.checkIfCanPassMap(),this.isFirstTime=!1,this.transitionTween&&(this.transitionTween.stop(),this.transitionTween=null),this.initTransitionTween(i+1,!1),this.transitionTween.start();break}this.debugManager.starCurrentLevelDone()},t.ftueArrowPositionY=400,t.windowBreakPoint=800,t}(zt),pn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ve.__extends)(t,e),t.prototype.init=function(e,t,n,i){this.gameType=e,this.seed=t,this.messageService=n,this.debugManager=i},t.prototype.create=function(){Nt.i.initialize(this.game),Ft.i.initialize(this.game),this.showGameScreen()},t.prototype.showGameScreen=function(){this.screen=new cn(this.gameType,this.seed,this.messageService,this.debugManager),this.game.world.add(this.screen)},t.prototype.update=function(){Nt.i.update()},t}(Phaser.State),hn=Ye.a.map.defaultGameWidth,dn=Ye.a.map.defaultGameHeight;if("USER_SCALE"===Ye.a.map.scaleMode){var gn=$e.calculateScreenMetrics(hn,dn);hn=gn.gameWidth,dn=gn.gameHeight}var mn={width:hn,height:dn,renderer:Phaser.CANVAS,parent:"map",resolution:1,antialias:!0},fn=function(e){function t(t,n){var i=e.call(this,mn)||this;return i.messageService=t,i.debugManager=n,wt.initialize(i),i.state.add("boot",yt),i.state.add("preloader",xt),i.state.add("map",pn),i.state.start("boot",!1,!1,t,n),i}return Object(Ve.__extends)(t,e),t.prototype.destroy=function(){this.onResume.dispose(),this.onPause.dispose(),e.prototype.destroy.call(this)},t}(Phaser.Game),bn=n("OKT/"),vn=n("boHg"),yn=Le.a.StringUtils,kn=function(){function e(e,t,n,i,a,o,s,r,l,u,c,p,h,d,g,m,f,b,v,y,k){this.route=e,this.gameManager=t,this.debugManger=n,this.sanitizer=i,this.mapDataManager=a,this.messageService=o,this.settings=s,this.playerData=r,this.loader=l,this.popupManager=u,this.mapManager=c,this.quickPlayManager=p,this.calendar=h,this.translationManager=d,this.tutorialManager=g,this.progressionManager=m,this.audioManager=f,this.settingsDataManager=b,this.windowBlurService=v,this.storage=y,this.shellService=k,this.starsInfo={earned:0,total:0},this.frameId="map"}return e.prototype.ngOnInit=function(e){var t=this;this.ngUnsubscribe=new qe.a,this.settingsData=this.settings.data,this.gameOptions=this.settingsDataManager.getSettings(),this.settingsSubscription=this.settingsDataManager.onSettingsUpdate.subscribe(function(e){console.log(e),t.gameOptions=e}),this.audioManager.setCurrentFrame(this.frameId),this.route.params.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(n){t.loadMap(e||n.game)}),this.figsWarningShown=this.storage.getFIGSWarningShown(),this.attachListeners(),this.language=this.translationManager.getCurrentLanguage(),this.quickPlayClickSubscription||(this.quickPlayClickSubscription=this.shellService.quickPlayClickEvent.subscribe(function(){t.handleQuickPlayClick()})),this.mapSundayPuzzleClickSubscription||(this.mapSundayPuzzleClickSubscription=this.shellService.sundayPuzzleClickEvent.subscribe(function(){t.handleSundayPuzzleSelectClick()}))},e.prototype.ngOnDestroy=function(){this.destroyMap(),this.audioManager.resetCurrentFrame(),this.unsubscribe(),this.settingsSubscription&&this.settingsSubscription.unsubscribe(),this.quickPlayClickSubscription&&this.quickPlayClickSubscription.unsubscribe(),this.mapSundayPuzzleClickSubscription&&this.mapSundayPuzzleClickSubscription.unsubscribe()},e.prototype.handleChallengeClick=function(){this.tutorial||this.gateOpened||(this.audioManager.playButtonClick(),this.playerData.currentPlayingDay=this.calendar.getCurrentDay(),this.gameManager.transitionToGame(this.game,Fe.d.DailyChallenge,this.gameManager.getDifficultyInfo(this.game).level))},e.prototype.handleSundayPuzzleSelectClick=function(){var e=this;if(!this.tutorial&&!this.gateOpened){this.audioManager.playButtonClick(),this.messageService.sendMessageToGame({action:Ae.CancelAutoSelect});var t=this.popupManager.showSundayPuzzleSelectPopup(this.game,this.additionalPuzzles);t.onShowMapsClick.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(){e.handleShowSundayPuzzlesProgressClick(),t.handleCloseClick()}),t.onSelect.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(n){e.handleAdditionalPuzzleSelect(n),t.handleCloseClick()})}},e.prototype.handleQuickPlayClick=function(){var e=this;if(!this.tutorial&&!this.gateOpened){this.audioManager.playButtonClick(),this.messageService.sendMessageToGame({action:Ae.CancelAutoSelect});var t=null,n=this.popupManager.showQuickPlayDifficultyPopup();n.onDifficultySelect.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(i){(t=e.quickPlayManager.getPuzzleData(e.game,i)).state===je.a.Started?n.showGameActions():(e.gameManager.transitionToGame(e.game,Fe.d.QuickPlay,i,t.id||t._ID,{puzzleData:t}),n.hide())}),n.onNewGameSelect.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(i){e.popupManager.showConfirmPopup("quickPlayNewGameConfirm","newGame","close","newGame").onResult.pipe(Object(Je.a)(e.ngUnsubscribe)).subscribe(function(a){a===Ke.a.Confirm&&(n.hide(),t=e.quickPlayManager.getNewGame(e.game,i,t.id),e.gameManager.transitionToGame(e.game,Fe.d.QuickPlay,i,t.id||t._ID))})}),n.onResumeSelect.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(n){e.gameManager.transitionToGame(e.game,Fe.d.QuickPlay,n,t.id||t._ID,{puzzleData:t})})}},e.prototype.unlockAllPuzzles=function(){this.debugManger.unlockAllPuzzles()},e.prototype.threeStarAllLevels=function(){this.starsInfo.earned=this.starsInfo.total,this.debugManger.threeStarAllLevels()},e.prototype.starCurrentLevel=function(){this.debugManger.starCurrentLevel()},e.prototype.refreshMap=function(){this.initMapPage()},e.prototype.clearAllData=function(){this.popupManager.showConfirmPopup("confirmation","yes","no").onResult.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(e){e===Ke.a.Confirm&&(location.reload(),localStorage.clear())})},e.prototype.testPopup=function(){},e.prototype.handleMapsButtonClick=function(e){var t=this;this.tutorial||this.gateOpened||(this.audioManager.playButtonClick(),this.popupManager.showMapsPopup(this.game,e).onResult.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(e){return t.handleMapSelected(e)}))},e.prototype.handleShowSundayPuzzlesProgressClick=function(){this.handleMapsButtonClick(1)},e.prototype.handleAdditionalPuzzleSelect=function(e){var t=this;if(!this.tutorial&&!this.gateOpened){this.audioManager.playButtonClick();var n=this.additionalPuzzlesData.filter(function(t){return t.id===e.id})[0],i=this.mapManager.getLevelInfo(n,e.puzzleNumber,this.game,"sundayPuzzle"),a=this.popupManager.showGameStartPopup(this.game,i);a.onResult.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(o){o?t.popupManager.showConfirmPopup("puzzleResetConfirm",null,null,"resetPuzzle").onResult.pipe(Object(Je.a)(t.ngUnsubscribe)).subscribe(function(s){s===Ke.a.Confirm&&(a.hide(),n.data.objectives.forEach(function(e){return e.done=0}),i.objectives.forEach(function(e){return e.done=0}),n.data.reset=!0,t.playerData.savePlayerAdditionalPuzzleProgress(t.game,t.mapData.mapId,n.id,n.data,!1),t.gameManager.transitionToGame(t.game,Fe.d.SundayPuzzle,null,e.id,{puzzleData:n,puzzleName:i.name,reset:o,resetDone:o||i.reset}))}):t.gameManager.transitionToGame(t.game,Fe.d.SundayPuzzle,null,e.id,{puzzleData:n,puzzleName:i.name,reset:o,resetDone:o||i.reset})})}},e.prototype.nextTutorialStep=function(){this.audioManager.playButtonClick(),this.tutorialManager.nextStep(Ne.b.Map)},e.prototype.closeFIGSWarning=function(){this.storage.setFIGSWarningShown(),this.shouldShowFigsWarning=!1,this.figsWarningShown="1",this.tutorialManager.nextStep(Ne.b.Map)},e.prototype.handleSkipClick=function(){this.audioManager.playButtonClick(),this.tutorial=!1,this.tutorialManager.setMapSeen(),this.handleTutorialStepChange(-1)},e.prototype.loadMap=function(e){var t=this;this.mapManager.initializeMapData(e).pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(){t.loaded=!0,t.initialize(e)},function(){t.loader.hide(),t.popupManager.showError("mapLoadError").onClose.subscribe(function(){t.loadMap(e)})})},e.prototype.initialize=function(e){this.game=e,this.isCrossword=this.game===Fe.a.Crosswords,this.additionalPuzzlesIds=this.mapDataManager.getAdditionalPuzzles(),this.mapData=this.mapDataManager.getCurrentMapData(this.game),this.mapName=this.mapData.name.split(" ")[0],this.mapNumber=this.mapData.name.split(" ")[1],this.puzzleIds=this.mapData.puzzleIds,this.isCrosswordSingleGame=this.gameManager.singleGame===Fe.a.Crosswords,this.bonusPuzzleIds=this.mapData.bonusPuzzleIds;var t=this.playerData.getGameProgress(this.game,this.mapData.mapId,this.puzzleIds,this.bonusPuzzleIds,this.mapData.skinId,this.mapData.puzzleCountPerSection),n=t.levels;this.bonusPuzzlesData=t.bonusLevels,this.puzzlesData=n,this.initAdditionalPuzzles(),this.initBackground(),this.initStarsInfo(),this.audioManager.playMainMusic(),this.settingsDataManager.getSettings().ambiance&&this.audioManager.playAmbiance(),this.initMapPage(),this.initializeTutorial()},e.prototype.initMapPage=function(){this.destroyMap(),this.messageService.setUnsubscribeSubject(this.ngUnsubscribe),this.mapRef=new fn(this.messageService,this.debugManger)},e.prototype.attachListeners=function(){var e=this;this.messageService.reset(),this.messageService.onWrapperMessage.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(t){return e.handleOnMessage(t)}),this.settingsDataManager.onSettingsUpdate.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(t){return e.handleSettingsUpdate(t)}),this.windowBlurService.focusLossState.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(t){return e.handlePauseStateChange(t)}),this.debugManger.onThreeStarAllLevelsDone.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(){e.handleDebugStarAllLevelsDone()}),this.debugManger.onStarCurrentLevelDone.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(){e.handleDebugStarAllLevelsDone()})},e.prototype.initAdditionalPuzzles=function(){this.additionalPuzzlesData=this.playerData.getAdditionalPuzzlesProgress(this.game,this.mapData.mapId,this.additionalPuzzlesIds),this.additionalPuzzles=this.additionalPuzzlesData.length?this.additionalPuzzlesData.map(function(e,t){var n;return n=e.data&&e.data.reset?3:e.data&&e.data.objectives?e.data.objectives.filter(function(e){return e.max===e.done&&e.checked}).length:0,{id:e.id,starsCount:n,puzzleNumber:t+1}}):[]},e.prototype.initBackground=function(){document.body.parentElement.style.backgroundImage="",document.body.parentElement.style.backgroundColor=this.settings.data.Map.bkgColors[this.game]},e.prototype.initStarsInfo=function(){var e=this.mapDataManager.getStarsCount(this.puzzlesData),t=this.mapDataManager.getStarsCount(this.bonusPuzzlesData);this.starsInfo={earned:e+t,total:3*this.puzzlesData.length+3*this.bonusPuzzlesData.length}},e.prototype.initializeTutorial=function(){var e=this;this.tutorial=!this.tutorialManager.isMapSeen(),(this.tutorial||this.gateOpened)&&(this.tutorialManager.startTutorial(Ne.b.Map),this.tutorialStep=this.tutorialManager.getStep(Ne.b.Map),this.tutorialManager.onStepUpdate.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(t){return e.handleTutorialStepChange(t)}))},e.prototype.startTutorial=function(){this.handleTutorialStepChange(this.tutorialStep)},e.prototype.showWorldEndMap=function(){var e=this,t=this.mapDataManager.getWorlds(this.game),n=t.filter(function(e){return e.selected})[0],i=t[t.indexOf(n)+1];n.type!==Ue.a.Bonus&&i&&setTimeout(function(){e.popupManager.showWorldEndPopup(e.game,e.starsInfo,n,i).onResult.pipe(Object(Je.a)(e.ngUnsubscribe)).subscribe(function(){setTimeout(function(){e.popupManager.showMapsPopup(e.game,We.b.Worlds,n.id).onResult.pipe(Object(Je.a)(e.ngUnsubscribe)).subscribe(function(t){return e.handleMapSelected(t)})},300)})},700)},e.prototype.sendChestEarnComplete=function(){this.messageService.sendMessageToGame({action:Fe.b.ChestEarnComplete})},e.prototype.sendBonusPuzzleUnlockedComplete=function(){this.messageService.sendMessageToGame({action:Ae.BonusPuzzleUnlockedComplete})},e.prototype.sendMapData=function(){var e=new Ge(this.mapData,this.puzzlesData,this.bonusPuzzlesData,yn.capitalizeFirstLetter(this.game),Re.Preload,this.translationManager.getGameLocalizations(Fe.a.Map),this.playerData.getCurrentPuzzleIndex(this.game,this.mapData.mapId),this.settingsDataManager.getSettings(),this.storage.getFormattedGameKey(this.frameId));this.messageService.sendMessageToGame(e)},e.prototype.handleOnMessage=function(e){e.connected?this.sendMapData():e.loaded?this.loader.hide():e.state===Re.Started?this.startTutorial():e.state===Re.FTUE?this.handleFtueMessage(e):e.state===Re.Map&&this.handleMapAction(e)},e.prototype.handleSettingsUpdate=function(e){e.ambiance?this.audioManager.playAmbiance():this.audioManager.stopAmbiance(),this.messageService.sendMessageToGame({state:"settings",settings:e}),this.settings=e},e.prototype.handleTutorialStepChange=function(e){this.tutorialStep=e,this.messageService.sendMessageToGame({state:Re.FTUE,step:e})},e.prototype.handleFtueMessage=function(e){e.action===Ae.FTUEComplete&&(this.game===Fe.a.Crosswords&&"en-US"!==this.language&&"0"===this.figsWarningShown?this.shouldShowFigsWarning=!0:this.tutorialManager.nextStep(Ne.b.Map))},e.prototype.handleMapAction=function(e){switch(e.action){case Ae.Play:this.handlePuzzleSelect(e);break;case Ae.ChestEarned:this.handleChestEarned(e);break;case Ae.BonusPuzzleUnlocked:this.handleBonusPuzzleUnlocked(e);break;case Ae.GateOpened:this.handleGateOpened();break;case Ae.GateOpenComplete:this.handleGateOpenedComplete();break;case Ae.MapComplete:this.handleMapComplete();break;case Ae.MapPerfected:this.handleMapPerfected();break;default:throw new Error("unsupported action: "+e.action)}},e.prototype.handlePuzzleSelect=function(e){var t=this;if(!this.levelPopupOpen&&!this.gateOpened){this.audioManager.playButtonClick();var n=(e.bonus?this.bonusPuzzlesData:this.puzzlesData).filter(function(t){return t.id===e.puzzle})[0],i=e.bonus?"bonusPuzzleLabel":"puzzleLabel",a=e.level+1,o=this.mapManager.getLevelInfo(n,a,this.game,i),s=this.popupManager.showGameStartPopup(this.game,o);this.levelPopupOpen=!0,s.onClose.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(){t.levelPopupOpen=!1}),s.onResult.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(r){t.tutorial&&(t.tutorial=!1,t.tutorialStep=-1,t.tutorialManager.setMapSeen()),r?t.popupManager.showConfirmPopup("puzzleResetConfirm",null,null,"resetPuzzle").onResult.pipe(Object(Je.a)(t.ngUnsubscribe)).subscribe(function(l){l===Ke.a.Confirm&&(s.hide(),n.data.objectives.forEach(function(e){return e.done=0}),o.objectives.forEach(function(e){return e.done=0}),n.data.reset=!0,t.playerData.savePlayerMapProgress(t.game,t.mapData.mapId,n.id,n.data,e.bonus),t.gameManager.transitionToGame(t.game,e.bonus?Fe.d.Bonus:Fe.d.Regular,null,e.puzzle,{puzzleData:n,puzzleName:t.translationManager.getLabelForApp(i)+" "+a,reset:r,resetDone:r||o.reset}))}):t.gameManager.transitionToGame(t.game,e.bonus?Fe.d.Bonus:Fe.d.Regular,null,e.puzzle,{puzzleData:n,puzzleName:t.translationManager.getLabelForApp(i)+" "+a,reset:r,resetDone:r||o.reset})})}},e.prototype.handleChestEarned=function(e){var t=this,n=this.progressionManager.getChestExp(this.game,e.large);this.popupManager.showChestEarn(this.game,n,!1).content.onOpen.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(){t.playerData.addPlayerExperience(t.game,n);var e=t.progressionManager.fullLevelData;t.popupManager.showExpGauge(t.game,e,!1).onAnimationComplete.pipe(Object(Je.a)(t.ngUnsubscribe)).subscribe(function(){e.level.level!==e.prev.level?t.popupManager.showLevelUpPopup(t.game,e.level.level,!1,e.level.title!==e.prev.title?e.level.title:null).onHide.pipe(Object(Je.a)(t.ngUnsubscribe)).subscribe(function(){t.sendChestEarnComplete(),t.popupManager.hideAll()}):(t.sendChestEarnComplete(),t.popupManager.hideAll())})})},e.prototype.handleMapComplete=function(){var e=this,t=this.progressionManager.getMapCompletionRewardExp(this.game);this.popupManager.showLevelEndChestEarn(this.game,t).content.onOpen.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(){e.playerData.addPlayerExperience(e.game,t);var n=e.progressionManager.fullLevelData;e.popupManager.showExpGauge(e.game,n,!1).onAnimationComplete.pipe(Object(Je.a)(e.ngUnsubscribe)).subscribe(function(){n.level.level!==n.prev.level?e.popupManager.showLevelUpPopup(e.game,n.level.level,!1,n.level.title!==n.prev.title?n.level.title:null).onHide.pipe(Object(Je.a)(e.ngUnsubscribe)).subscribe(function(){e.sendChestEarnComplete(),e.popupManager.hideAll(),e.showWorldEndMap()}):(e.sendChestEarnComplete(),e.popupManager.hideAll(),e.showWorldEndMap())})})},e.prototype.handleMapPerfected=function(){var e=this,t=this.mapData.type===Ue.a.Main?this.mapDataManager.getWorlds(this.game):this.mapDataManager.getExtraMaps(this.game),n=t.filter(function(e){return e.selected})[0],i=n.type===Ue.a.Main?t[t.indexOf(n)+1]:null;this.popupManager.showMapPerfectedPopup(this.game,this.starsInfo,n,i).onResult.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(){setTimeout(function(){e.popupManager.showMapsPopup(e.game,We.b.Worlds,n.id).onResult.pipe(Object(Je.a)(e.ngUnsubscribe)).subscribe(function(t){return e.handleMapSelected(t)})},300)})},e.prototype.handleMapSelected=function(e){this.playerData.updatePlayerMapSelected(this.game,e),this.unsubscribe(),this.ngOnInit(this.game)},e.prototype.handleBonusPuzzleUnlocked=function(e){var t=this;this.playerData.savePlayerMapProgress(this.game,this.mapData.mapId,e.id,{objectives:[]},!0,!1),this.popupManager.showBonusPuzzleUnlocked(this.game).onClose.pipe(Object(Je.a)(this.ngUnsubscribe)).subscribe(function(){return t.sendBonusPuzzleUnlockedComplete()})},e.prototype.handleGateOpened=function(){this.tutorialManager.isGateSeen()||(this.gateOpened=!0)},e.prototype.handleGateOpenedComplete=function(){this.tutorialManager.isGateSeen()||(this.gateOpened=!1,this.tutorialManager.setGateSeen())},e.prototype.handlePauseStateChange=function(e){this.messageService.sendMessageToGame({state:Fe.f.Paused,pause:e.show})},e.prototype.handleDebugStarAllLevelsDone=function(){var e=this.playerData.getGameProgress(this.game,this.mapData.mapId,this.puzzleIds,this.bonusPuzzleIds,this.mapData.skinId,this.mapData.puzzleCountPerSection),t=e.levels;this.bonusPuzzlesData=e.bonusLevels,this.puzzlesData=t},e.prototype.unsubscribe=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.destroyMap=function(){if(this.mapRef){var e=document.getElementsByTagName("canvas")[0];It.i.destroy(),Nt.i.destroy(),this.mapRef.destroy(),Phaser.CanvasPool.removeByCanvas(e),this.mapRef=null}},e}(),Cn=n("ZYCi"),wn=i["\u0275crt"]({encapsulation:0,styles:[['div.close-btn[_ngcontent-%COMP%]{height:57.6px;width:57.6px;float:right;margin:3.84px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none}.ui-button[_ngcontent-%COMP%]::before{background:#7ec5d4;background:-webkit-gradient(linear,left top,left bottom,from(#7ec5d4),to(#44679d));background:linear-gradient(to bottom,#7ec5d4 0,#44679d 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#7ec5d4", endColorstr="#44679d", GradientType=0);display:block;content:"";z-index:-1;position:absolute}.ui-button[_ngcontent-%COMP%]{cursor:pointer;background:#4c74b4;background:-webkit-gradient(linear,left top,left bottom,from(#4c74b4),to(#5d94c1));background:linear-gradient(to bottom,#4c74b4 0,#5d94c1 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#4c74b4", endColorstr="#5d94c1", GradientType=0);border:0;color:#fff;position:relative}.ui-button[_ngcontent-%COMP%]:active{-webkit-transform:scale(.97);transform:scale(.97);-webkit-transform-origin:50% 50% 0;transform-origin:50% 50% 0}.ui-button[_ngcontent-%COMP%]:active::before{box-shadow:inset .2vw .4vw 2vw 0 rgba(0,0,0,.75)}.ui-button.gold[_ngcontent-%COMP%]::before{background:#ffdb78;background:-webkit-gradient(linear,left top,left bottom,from(#ffdb78),to(#835e02));background:linear-gradient(to bottom,#ffdb78 0,#835e02 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffdb78", endColorstr="#835e02", GradientType=0)}.ui-button.gold[_ngcontent-%COMP%]{background:#a37601;background:-webkit-gradient(linear,left top,left bottom,from(#a37601),to(#edc253));background:linear-gradient(to bottom,#a37601 0,#edc253 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#a37601", endColorstr="#edc253", GradientType=0)}.ui-button.green[_ngcontent-%COMP%]::before{background:#62bd9a;background:-webkit-gradient(linear,left top,left bottom,from(#62bd9a),to(#2f6e54));background:linear-gradient(to bottom,#62bd9a 0,#2f6e54 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#62bd9a", endColorstr="#2f6e54", GradientType=0)}.ui-button.green[_ngcontent-%COMP%]{background:#388d6f;background:-webkit-gradient(linear,left top,left bottom,from(#388d6f),to(#54ba96));background:linear-gradient(to bottom,#388d6f 0,#54ba96 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#388d6f", endColorstr="#54ba96", GradientType=0)}.ui-button.yellow[_ngcontent-%COMP%]::before{background:#cba531;background:-webkit-gradient(linear,left top,left bottom,from(#cba531),to(#745a14));background:linear-gradient(to bottom,#cba531 0,#745a14 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#cba531", endColorstr="#745a14", GradientType=0)}.ui-button.yellow[_ngcontent-%COMP%]{background:#997818;background:-webkit-gradient(linear,left top,left bottom,from(#997818),to(#c99f23));background:linear-gradient(to bottom,#997818 0,#c99f23 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#997818", endColorstr="#c99f23", GradientType=0)}.ui-button.red[_ngcontent-%COMP%]::before{background:#c76849;background:-webkit-gradient(linear,left top,left bottom,from(#c76849),to(#6e2819));background:linear-gradient(to bottom,#c76849 0,#6e2819 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#c76849", endColorstr="#6e2819", GradientType=0)}.ui-button.red[_ngcontent-%COMP%]{background:#87311d;background:-webkit-gradient(linear,left top,left bottom,from(#87311d),to(#bc482e));background:linear-gradient(to bottom,#87311d 0,#bc482e 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#87311d", endColorstr="#bc482e", GradientType=0)}.ui-button[_ngcontent-%COMP%]:disabled{background:#919191;background:-webkit-gradient(linear,left top,left bottom,from(#919191),to(#9c9d9c));background:linear-gradient(to bottom,#919191 0,#9c9d9c 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="#919191", endColorstr="#9c9d9c", GradientType=0 )}.ui-button[_ngcontent-%COMP%]:disabled:before{background:#b8b7b8;background:-webkit-gradient(linear,left top,left bottom,from(#b8b7b8),to(#7e7c7e));background:linear-gradient(to bottom,#b8b7b8 0,#7e7c7e 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="#b8b7b8", endColorstr="#7e7c7e", GradientType=0 )}@-webkit-keyframes rotating{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotating{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes yoyoY{from{-webkit-transform:translate(0,0);transform:translate(0,0)}to{-webkit-transform:translate(0,-20%);transform:translate(0,-20%)}}@keyframes yoyoY{from{-webkit-transform:translate(0,0);transform:translate(0,0)}to{-webkit-transform:translate(0,-20%);transform:translate(0,-20%)}}@-webkit-keyframes yoyoX{from{-webkit-transform:translate(0,-20%);transform:translate(0,-20%)}to{-webkit-transform:translate(0,0);transform:translate(0,0)}}@keyframes yoyoX{from{-webkit-transform:translate(0,-20%);transform:translate(0,-20%)}to{-webkit-transform:translate(0,0);transform:translate(0,0)}}@-webkit-keyframes yoyoYFlipped{from{-webkit-transform:translate(0,0) rotate(180deg);transform:translate(0,0) rotate(180deg)}to{-webkit-transform:translate(0,-20%) rotate(180deg);transform:translate(0,-20%) rotate(180deg)}}@keyframes yoyoYFlipped{from{-webkit-transform:translate(0,0) rotate(180deg);transform:translate(0,0) rotate(180deg)}to{-webkit-transform:translate(0,-20%) rotate(180deg);transform:translate(0,-20%) rotate(180deg)}}.ftue-bkg[_ngcontent-%COMP%]{position:absolute;top:0;z-index:10000;width:100vw;height:100vh;background-color:rgba(0,0,0,.67)}.ftue-popup[_ngcontent-%COMP%]{color:#fff;font-size:1.5vw;z-index:1;border-radius:.7vw;background:#007daa;background:-webkit-gradient(linear,left top,left bottom,from(#007daa),to(#005f86));background:linear-gradient(to bottom,#007daa 0,#005f86 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="#007daa", endColorstr="#005f86", GradientType=0 );box-shadow:4px 4px 5px 0 rgba(50,50,50,.75)}.ftue-arrow[_ngcontent-%COMP%]{width:5vw;-webkit-animation:.5s infinite alternate yoyoY;animation:.5s infinite alternate yoyoY}.ftue-arrow-flipped[_ngcontent-%COMP%]{width:5vw;-webkit-animation:.5s infinite alternate yoyoYFlipped;animation:.5s infinite alternate yoyoYFlipped}.ui-button[_ngcontent-%COMP%]{border-radius:50vw;border:none;height:3.2vw;width:10vw;outline:inherit;font-size:1.9vw}.ui-button[_ngcontent-%COMP%]::before{left:-.4vw;top:-.3vw;height:3.8vw;width:10.7vw;border-radius:40vw}[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]{width:100%;height:100%;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;height:100%}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;width:100%;height:3rem;padding:.5rem;box-sizing:border-box}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .map-icon[_ngcontent-%COMP%]{margin:auto 1rem auto 0;width:1.5rem}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .map-type-name[_ngcontent-%COMP%]{margin:auto 0;font-size:1rem;line-height:1rem;color:#fff}@media only screen and (max-width:400px){[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .map-type-name[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .stars-container[_ngcontent-%COMP%]{margin:auto 0 auto auto;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .stars-container[_ngcontent-%COMP%]   .map-star-icon[_ngcontent-%COMP%]{margin:auto 0;width:2rem}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .stars-container[_ngcontent-%COMP%]   .start-counter-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;margin:auto 0;padding:.25rem .5rem;color:#fff;background-color:rgba(0,0,0,.34);border-radius:1rem}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .stars-container[_ngcontent-%COMP%]   .start-counter-container[_ngcontent-%COMP%]   .stars-earned[_ngcontent-%COMP%]{color:#ff0}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .map-info[_ngcontent-%COMP%]{margin:auto 0;z-index:0}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .map-info[_ngcontent-%COMP%]   .maps-button[_ngcontent-%COMP%]{margin-left:1rem;height:1.5rem;width:6rem;font-size:1rem;line-height:1rem}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .map-info[_ngcontent-%COMP%]   .maps-button[_ngcontent-%COMP%]::before{height:calc(100% + .5rem);width:calc(100% + .5rem);left:-.25rem;top:-.25rem}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .map-name[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin:.25rem auto}@media only screen and (max-width:850px) and (orientation:landscape){[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .map-name[_ngcontent-%COMP%]{display:none!important}}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .map-holder[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;flex:1;background-color:#00000040;overflow:hidden}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .map-holder[_ngcontent-%COMP%]   .map-center[_ngcontent-%COMP%]{height:100%;width:100%;max-width:1000px;margin:auto}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .side-menu[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:300px;height:100%;margin-left:.75rem}@media only screen and (max-width:750px),(max-height:700px){[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .side-menu[_ngcontent-%COMP%]{width:250px}}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .side-menu[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;margin-bottom:.75rem}[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .side-menu[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   #map[_ngcontent-%COMP%]{border:0;height:0;width:0;max-height:100%;max-width:100%;min-height:100%;min-width:100%}[_nghost-%COMP%]   .gate-blocker[_ngcontent-%COMP%]{position:absolute;border-left:79vw solid #000;border-top:72vw solid #000;opacity:.8;pointer-events:none;display:block;z-index:9999;border-right:59vw solid #000;border-bottom:43vh solid #000;left:-53.3vw;top:-45vw}[_nghost-%COMP%]   .gate-blocker[_ngcontent-%COMP%]   .transparent-part[_ngcontent-%COMP%]{width:15vw;height:9vw}[_nghost-%COMP%]   .gate-blocker-text[_ngcontent-%COMP%]{position:absolute;top:22.5vw;left:21vw;color:#fff;z-index:99999;text-align:center;font-size:1.2vw}[_nghost-%COMP%]   .skip-button.de-DE[_ngcontent-%COMP%]{font-size:1.3vw}[_nghost-%COMP%]   .wordament-gradient[_ngcontent-%COMP%]{background:-webkit-gradient(linear,right top,left top,from(#50000c),to(#830014));background:linear-gradient(270deg,#50000c 0,#830014 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#830014", endColorstr="#50000c", GradientType=1)}[_nghost-%COMP%]   .crossword-gradient[_ngcontent-%COMP%]{background:-webkit-gradient(linear,right top,left top,from(#0b443b),to(#15826f));background:linear-gradient(270deg,#0b443b 0,#15826f 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#15826F", endColorstr="#0B443B", GradientType=1)}[_nghost-%COMP%]   .wordTwister-gradient[_ngcontent-%COMP%]{background:-webkit-gradient(linear,right top,left top,from(#361349),to(#794598));background:linear-gradient(270deg,#361349 0,#794598 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#794598", endColorstr="#361349", GradientType=1)}.ftue-page[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.blocker[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;background:#000;opacity:.7;z-index:900}.ftue-container[_ngcontent-%COMP%]{max-width:100%;margin:auto;padding:1rem;z-index:902}.ftue-container[_ngcontent-%COMP%]   .ftue-popup[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:45rem;max-width:100%;padding:1rem}.ftue-container[_ngcontent-%COMP%]   .ftue-popup[_ngcontent-%COMP%]   .ftue-text[_ngcontent-%COMP%]{font-size:1.5rem;padding:0 .25rem}@media only screen and (max-width:600px),(max-height:600px){[_nghost-%COMP%]   .map-page[_ngcontent-%COMP%]   .side-menu[_ngcontent-%COMP%]{display:none}.ftue-container[_ngcontent-%COMP%]   .ftue-popup[_ngcontent-%COMP%]   .ftue-text[_ngcontent-%COMP%]{font-size:1.25rem}}.flex-margin[_ngcontent-%COMP%]{margin:auto}.skip-button-container[_ngcontent-%COMP%]{margin:auto 1rem 1rem auto;z-index:902}.ftue-reveal[_ngcontent-%COMP%]{z-index:901!important}.block-clicks[_ngcontent-%COMP%]{pointer-events:none}.ftue-button-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;width:100%;z-index:0}.ftue-button-wrapper[_ngcontent-%COMP%]   .ftue-button[_ngcontent-%COMP%]{height:2.25rem;min-width:8rem;width:8rem;font-size:1.25rem;line-height:1.25rem;margin:1rem .6rem .3rem auto;white-space:normal}@media only screen and (max-width:600px),(max-height:600px){.ftue-button-wrapper[_ngcontent-%COMP%]   .ftue-button[_ngcontent-%COMP%]{height:2rem;min-width:6rem;width:7rem;font-size:1rem;line-height:1rem}}@media only screen and (max-width:400px),(max-height:500px){.ftue-container[_ngcontent-%COMP%]   .ftue-popup[_ngcontent-%COMP%]   .ftue-text[_ngcontent-%COMP%]{font-size:1rem}.ftue-button-wrapper[_ngcontent-%COMP%]   .ftue-button[_ngcontent-%COMP%]{height:1.75rem;min-width:6rem;width:6rem;font-size:1rem;line-height:1rem}}.ftue-button-wrapper[_ngcontent-%COMP%]   .ftue-button[_ngcontent-%COMP%]::before{height:calc(100% + .7rem);width:calc(100% + .7rem);left:-.35rem;top:-.35rem}.cheat-button-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:absolute;top:.5rem;left:.5rem;z-index:12}.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;height:2.75rem;width:9rem;font-size:1rem;line-height:1rem;white-space:normal;margin:.5rem .75rem}@media only screen and (max-width:600px),(max-height:600px){.ftue-button-wrapper[_ngcontent-%COMP%]   .ftue-button[_ngcontent-%COMP%]::before{height:calc(100% + .6rem);width:calc(100% + .6rem);left:-.3rem;top:-.3rem}.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]{height:2rem;width:2rem;padding:0;margin:.3rem .6rem}}@media only screen and (max-height:400px){.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]{margin-top:0}}.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]::before{height:calc(100% + .6rem);width:calc(100% + .6rem);left:-.3rem;top:-.3rem}@media only screen and (max-width:600px),(max-height:600px){.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]::before{height:calc(100% + .5rem);width:calc(100% + .5rem);left:-.25rem;top:-.25rem}}.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]   .cheat-icon[_ngcontent-%COMP%]{min-width:2.5rem;width:2.5rem;margin:auto}.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{min-width:2rem;width:2rem}.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]   .cheat-text[_ngcontent-%COMP%]{font-size:1rem;line-height:1rem;margin:auto}@media only screen and (max-width:600px),(max-height:600px){.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]   .cheat-icon[_ngcontent-%COMP%]{min-width:2rem;width:2rem}.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{min-width:1.5rem;width:1.5rem}.cheat-button-wrapper[_ngcontent-%COMP%]   .cheat-button[_ngcontent-%COMP%]   .cheat-text[_ngcontent-%COMP%]{font-size:.75rem;line-height:.85rem;display:none}}']],data:{}});function Mn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","map-type-name"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform("adventureMapLabel")))})}function Pn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","map-type-name"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform("extraMapLabel")))})}function On(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,17,"div",[["class","header"]],[[4,"backgroundColor",null]],null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"div",[["class","map-map-icon map-icon"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Mn)),i["\u0275did"](3,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Pn)),i["\u0275did"](5,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](6,0,null,null,7,"div",[["class","stars-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](7,0,null,null,0,"div",[["class","map-star map-star-icon"]],null,null,null,null,null)),(e()(),i["\u0275eld"](8,0,null,null,5,"div",[["class","start-counter-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](9,0,null,null,1,"span",[["class","stars-earned"]],null,null,null,null,null)),(e()(),i["\u0275ted"](10,null,["",""])),(e()(),i["\u0275ted"](-1,null,[" / "])),(e()(),i["\u0275eld"](12,0,null,null,1,"span",[["class","stars-total"]],null,null,null,null,null)),(e()(),i["\u0275ted"](13,null,["",""])),(e()(),i["\u0275eld"](14,0,null,null,3,"div",[["class","map-info"]],null,null,null,null,null)),(e()(),i["\u0275eld"](15,0,null,null,2,"button",[["class","ui-button maps-button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleMapsButtonClick()&&i),i},null,null)),(e()(),i["\u0275ted"](16,null,[" "," "])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],function(e,t){var n=t.component;e(t,3,0,"main"===n.mapData.type),e(t,5,0,"bonus"===n.mapData.type)},function(e,t){var n=t.component;e(t,0,0,n.settingsData.Map.header[n.game]),e(t,10,0,n.starsInfo.earned),e(t,13,0,n.starsInfo.total),e(t,16,0,i["\u0275unv"](t,16,0,i["\u0275nov"](t,17).transform("mapsLabel")))})}function Sn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","map-name"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[""," ",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],null,function(e,t){var n=t.component;e(t,1,0,n.isCrossword?i["\u0275unv"](t,1,0,i["\u0275nov"](t,2).transform(n.mapName.toLowerCase())):n.mapName,n.mapNumber)})}function In(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,20,"div",[["class","cheat-button-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,3,"button",[["class","cheat-button ui-button blue"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.starCurrentLevel()&&i),i},null,null)),(e()(),i["\u0275eld"](2,0,null,null,0,"div",[["class","cheat-icon small level-complete-star"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","cheat-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["3 Star Current Level"])),(e()(),i["\u0275eld"](5,0,null,null,3,"button",[["class","cheat-button ui-button blue"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.refreshMap()&&i),i},null,null)),(e()(),i["\u0275eld"](6,0,null,null,0,"div",[["class","cheat-icon level-complete-chest-wordament-open"]],null,null,null,null,null)),(e()(),i["\u0275eld"](7,0,null,null,1,"div",[["class","cheat-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Refresh Map"])),(e()(),i["\u0275eld"](9,0,null,null,3,"button",[["class","cheat-button ui-button blue"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.unlockAllPuzzles()&&i),i},null,null)),(e()(),i["\u0275eld"](10,0,null,null,0,"div",[["class","cheat-icon small level-complete-padlock"]],null,null,null,null,null)),(e()(),i["\u0275eld"](11,0,null,null,1,"div",[["class","cheat-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Unlock Levels"])),(e()(),i["\u0275eld"](13,0,null,null,3,"button",[["class","cheat-button ui-button blue"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.threeStarAllLevels()&&i),i},null,null)),(e()(),i["\u0275eld"](14,0,null,null,0,"div",[["class","cheat-icon small awards-gold-badge"]],null,null,null,null,null)),(e()(),i["\u0275eld"](15,0,null,null,1,"div",[["class","cheat-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Perfect Map"])),(e()(),i["\u0275eld"](17,0,null,null,3,"button",[["class","cheat-button ui-button blue"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.clearAllData()&&i),i},null,null)),(e()(),i["\u0275eld"](18,0,null,null,0,"div",[["class","cheat-icon map-wordTwister-logo"]],null,null,null,null,null)),(e()(),i["\u0275eld"](19,0,null,null,1,"div",[["class","cheat-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Reset All Site Data"]))],null,null)}function _n(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","challenge"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"app-map-challenge-view",[],null,[[null,"onSelect"]],function(e,t,n){var i=!0;return"onSelect"===t&&(i=!1!==e.component.handleChallengeClick()&&i),i},W,F)),i["\u0275did"](2,245760,null,0,N.a,[A.a,R.a,B.a,L.a],{game:[0,"game"]},{onSelect:"onSelect"})],function(e,t){e(t,2,0,t.component.game)},null)}function xn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","challenge"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"app-map-quick-play-view",[],[[8,"className",0]],[[null,"onSelect"]],function(e,t,n){var i=!0;return"onSelect"===t&&(i=!1!==e.component.handleQuickPlayClick()&&i),i},ne,X)),i["\u0275did"](2,245760,null,0,H.a,[A.a,q.a,B.a,J.a],{single:[0,"single"],game:[1,"game"]},{onSelect:"onSelect"})],function(e,t){var n=t.component;e(t,2,0,n.gameManager.singleGame,n.game)},function(e,t){e(t,1,0,i["\u0275nov"](t,2).className)})}function zn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,5,"div",[["class","challenge"]],null,null,null,null,null)),i["\u0275prd"](512,null,T["\u0275NgClassImpl"],T["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,T.NgClass,[T["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{wordament:0}),(e()(),i["\u0275eld"](4,0,null,null,1,"app-map-sunday-puzzles-view",[],null,[[null,"onSelect"],[null,"onShowMapsClick"]],function(e,t,n){var i=!0,a=e.component;return"onSelect"===t&&(i=!1!==a.handleAdditionalPuzzleSelect(n)&&i),"onShowMapsClick"===t&&(i=!1!==a.handleShowSundayPuzzlesProgressClick()&&i),i},ce,se)),i["\u0275did"](5,245760,null,0,oe.a,[A.a,L.a],{puzzles:[0,"puzzles"]},{onSelect:"onSelect",onShowMapsClick:"onShowMapsClick"})],function(e,t){var n=t.component,i=e(t,3,0,"wordament"===n.game);e(t,2,0,"challenge",i),e(t,5,0,n.additionalPuzzles)},null)}function Dn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","side-menu"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,_n)),i["\u0275did"](2,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,xn)),i["\u0275did"](4,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,zn)),i["\u0275did"](6,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.loaded&&!n.gameManager.singleGame),e(t,4,0,"crossword"!==n.game),e(t,6,0,"crossword"===n.game)},null)}function Tn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","ftue-0 ftue-page"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","blocker blocker0"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,0,"div",[["class","transparent-part"]],null,null,null,null,null))],null,null)}function Gn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","ftue-1 ftue-page"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","blocker blocker1"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,0,"div",[["class","transparent-part"]],null,null,null,null,null))],null,null)}function Ln(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,20,"div",[["class","ftue-1 ftue-page"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,11,"div",[["class","ftue-container tutorial-second-info"]],null,null,null,null,null)),i["\u0275prd"](512,null,T["\u0275NgClassImpl"],T["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](3,278528,null,0,T.NgClass,[T["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](4,{"crossword-map-ftue":0}),(e()(),i["\u0275eld"](5,0,null,null,7,"div",[["class","ftue-popup"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,2,"div",[["class","ftue-text"]],[[8,"innerHTML",1]],null,null,null,null)),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),i["\u0275ppd"](8,2),(e()(),i["\u0275eld"](9,0,null,null,3,"div",[["class","ftue-button-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](10,0,null,null,2,"button",[["class","ftue-button ui-button blue"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.nextTutorialStep()&&i),i},null,null)),(e()(),i["\u0275ted"](11,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](13,0,null,null,0,"div",[["class","flex-margin"]],null,null,null,null,null)),(e()(),i["\u0275eld"](14,0,null,null,0,"div",[["class","flex-margin"]],null,null,null,null,null)),(e()(),i["\u0275eld"](15,0,null,null,5,"div",[["class","skip-button-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](16,0,null,null,4,"div",[["class","ftue-button-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](17,0,null,null,3,"button",[["appClientLanguage",""],["class","ftue-button ui-button red"]],null,[[null,"click"],[null,"keyup.enter"]],function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.handleSkipClick()&&i),"keyup.enter"===t&&(i=!1!==a.handleSkipClick()&&i),i},null,null)),i["\u0275did"](18,16384,null,0,G.a,[i.ElementRef,i.Renderer2,L.a],null,null),(e()(),i["\u0275ted"](19,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],function(e,t){var n=e(t,4,0,t.component.isCrosswordSingleGame);e(t,3,0,"ftue-container tutorial-second-info",n)},function(e,t){var n=i["\u0275unv"](t,6,0,e(t,8,0,i["\u0275nov"](t.parent,0),i["\u0275unv"](t,6,0,i["\u0275nov"](t,7).transform("mapFTUE1Text")),"html"));e(t,6,0,n),e(t,11,0,i["\u0275unv"](t,11,0,i["\u0275nov"](t,12).transform("next"))),e(t,19,0,i["\u0275unv"](t,19,0,i["\u0275nov"](t,20).transform("skipBtn")))})}function Nn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","ftue-2 ftue-page"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","blocker blocker2"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,0,"div",[["class","transparent-part"]],null,null,null,null,null))],null,null)}function An(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,20,"div",[["class","ftue-2 ftue-page"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,11,"div",[["class","ftue-container tutorial-second-info"]],null,null,null,null,null)),i["\u0275prd"](512,null,T["\u0275NgClassImpl"],T["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](3,278528,null,0,T.NgClass,[T["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](4,{"crossword-map-ftue":0}),(e()(),i["\u0275eld"](5,0,null,null,7,"div",[["class","ftue-popup"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,2,"div",[["class","ftue-text"]],[[8,"innerHTML",1]],null,null,null,null)),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),i["\u0275ppd"](8,2),(e()(),i["\u0275eld"](9,0,null,null,3,"div",[["class","ftue-button-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](10,0,null,null,2,"button",[["class","ftue-button ui-button blue"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleSkipClick()&&i),i},null,null)),(e()(),i["\u0275ted"](11,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](13,0,null,null,0,"div",[["class","flex-margin"]],null,null,null,null,null)),(e()(),i["\u0275eld"](14,0,null,null,0,"div",[["class","flex-margin"]],null,null,null,null,null)),(e()(),i["\u0275eld"](15,0,null,null,5,"div",[["class","skip-button-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](16,0,null,null,4,"div",[["class","ftue-button-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](17,0,null,null,3,"button",[["appClientLanguage",""],["class","ftue-button ui-button red"]],null,[[null,"click"],[null,"keyup.enter"]],function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.handleSkipClick()&&i),"keyup.enter"===t&&(i=!1!==a.handleSkipClick()&&i),i},null,null)),i["\u0275did"](18,16384,null,0,G.a,[i.ElementRef,i.Renderer2,L.a],null,null),(e()(),i["\u0275ted"](19,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],function(e,t){var n=e(t,4,0,t.component.isCrosswordSingleGame);e(t,3,0,"ftue-container tutorial-second-info",n)},function(e,t){var n=i["\u0275unv"](t,6,0,e(t,8,0,i["\u0275nov"](t.parent,0),i["\u0275unv"](t,6,0,i["\u0275nov"](t,7).transform("mapFTUE2Text")),"html"));e(t,6,0,n),e(t,11,0,i["\u0275unv"](t,11,0,i["\u0275nov"](t,12).transform("next"))),e(t,19,0,i["\u0275unv"](t,19,0,i["\u0275nov"](t,20).transform("skipBtn")))})}function Rn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"div",[["class","blocker figs-blocker"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,9,"div",[["class","ftue-container tutorial-second-info figs-container"]],null,null,null,null,null)),i["\u0275prd"](512,null,T["\u0275NgClassImpl"],T["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](4,278528,null,0,T.NgClass,[T["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](5,{"crossword-map-ftue":0}),(e()(),i["\u0275eld"](6,0,null,null,2,"div",[["class","ftue-text"]],[[8,"innerHTML",1]],null,null,null,null)),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef]),i["\u0275ppd"](8,2),(e()(),i["\u0275eld"](9,0,null,null,2,"button",[["class","next-button ui-button blue"]],null,[[null,"click"],[null,"keyup.enter"]],function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.closeFIGSWarning()&&i),"keyup.enter"===t&&(i=!1!==a.closeFIGSWarning()&&i),i},null,null)),(e()(),i["\u0275ted"](10,null,["",""])),i["\u0275pid"](131072,D.j,[D.k,i.ChangeDetectorRef])],function(e,t){var n=e(t,5,0,t.component.isCrosswordSingleGame);e(t,4,0,"ftue-container tutorial-second-info figs-container",n)},function(e,t){var n=i["\u0275unv"](t,6,0,e(t,8,0,i["\u0275nov"](t.parent,0),i["\u0275unv"](t,6,0,i["\u0275nov"](t,7).transform("mapCrosswordFIGSWorning")),"html"));e(t,6,0,n),e(t,10,0,i["\u0275unv"](t,10,0,i["\u0275nov"](t,11).transform("okBtn")))})}function Bn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","blocker blocker0"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,0,"div",[["class","transparent-part"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,0,"div",[["class","blocker-bottom"]],null,null,null,null,null))],null,null)}function Fn(e){return i["\u0275vid"](0,[i["\u0275pid"](0,Se.a,[Ie.b]),(e()(),i["\u0275eld"](1,0,null,null,15,"div",[["class","map-page"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,12,"div",[["class","map"]],null,null,null,null,null)),i["\u0275prd"](512,null,T["\u0275NgClassImpl"],T["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](4,278528,null,0,T.NgClass,[T["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](5,{"single-crossword":0}),(e()(),i["\u0275and"](16777216,null,null,1,null,On)),i["\u0275did"](7,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Sn)),i["\u0275did"](9,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](10,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),i["\u0275eld"](11,0,null,null,1,"div",[["class","map-center"]],null,null,null,null,null)),(e()(),i["\u0275eld"](12,0,null,null,0,"div",[["id","map"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,In)),i["\u0275did"](14,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Dn)),i["\u0275did"](16,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Tn)),i["\u0275did"](18,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Gn)),i["\u0275did"](20,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ln)),i["\u0275did"](22,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Nn)),i["\u0275did"](24,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,An)),i["\u0275did"](26,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Rn)),i["\u0275did"](28,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Bn)),i["\u0275did"](30,16384,null,0,T.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=e(t,5,0,n.gameManager.singleGame&&"crossword"===n.game);e(t,4,0,"map",i),e(t,7,0,n.loaded),e(t,9,0,n.loaded),e(t,14,0,n.debugManger.debug&&n.gameOptions&&n.gameOptions.cheats),e(t,16,0,!(n.gameManager.singleGame&&"crossword"===n.game)),e(t,18,0,n.tutorial&&0===n.tutorialStep),e(t,20,0,n.tutorial&&1===n.tutorialStep),e(t,22,0,n.tutorial&&1===n.tutorialStep),e(t,24,0,n.tutorial&&2===n.tutorialStep),e(t,26,0,n.tutorial&&2===n.tutorialStep),e(t,28,0,n.shouldShowFigsWarning),e(t,30,0,n.gateOpened)},function(e,t){var n=t.component;e(t,10,0,"map-holder"+(0===n.tutorialStep||1===n.tutorialStep?" ftue-reveal block-clicks":"")+(2===n.tutorialStep||n.gateOpened?" ftue-reveal":""))})}function En(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"app-map",[],null,null,null,Fn,wn)),i["\u0275did"](1,245760,null,0,kn,[Cn.a,B.a,bn.a,Ie.b,_e.a,Be.a,A.a,R.a,xe.a,q.a,_e.a,J.a,Te.a,L.a,Ne.a,Ee.a,ze.a,He.a,Xe.a,De.a,vn.a],null,null)],function(e,t){e(t,1,0)},null)}var Un=i["\u0275ccf"]("app-map",kn,En,{},{},[]),jn=n("ULXh"),Wn=n("9lUn"),Hn=n("gIcY"),qn=n("008C"),Jn=n("6aHO"),Xn=n("Fq6B"),Kn=n("a6OJ"),Vn=n("iTUp"),Yn=n("j1ZV"),Zn=n("nSrf");n.d(t,"WordGamesMapModuleNgFactory",function(){return Qn});var Qn=i["\u0275cmf"](a,[],function(e){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,s.a,r.a,l.a,u.a,c.a,p.a,h.a,d.a,g.a,m.a,f.a,b.a,v.a,y.a,k.a,C.a,w.a,M.a,P.a,O.a,S.a,I.a,_.a,x.a,z.a,Un]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,T.NgLocalization,T.NgLocaleLocalization,[i.LOCALE_ID,[2,T["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,jn.RoundProgressService,jn.RoundProgressService,[[2,T.DOCUMENT]]),i["\u0275mpd"](4608,Wn.RoundProgressEase,Wn.RoundProgressEase,[]),i["\u0275mpd"](4608,Hn.l,Hn.l,[]),i["\u0275mpd"](4608,qn.a,qn.a,[i.RendererFactory2,Jn.a]),i["\u0275mpd"](1073742336,T.CommonModule,T.CommonModule,[]),i["\u0275mpd"](1073742336,Cn.o,Cn.o,[[2,Cn.t],[2,Cn.n]]),i["\u0275mpd"](1073742336,Xn.a,Xn.a,[]),i["\u0275mpd"](1073742336,Kn.RoundProgressModule,Kn.RoundProgressModule,[]),i["\u0275mpd"](1073742336,Hn.k,Hn.k,[]),i["\u0275mpd"](1073742336,Hn.d,Hn.d,[]),i["\u0275mpd"](1073742336,D.h,D.h,[]),i["\u0275mpd"](1073742336,Vn.a,Vn.a,[]),i["\u0275mpd"](1073742336,Yn.a,Yn.a,[]),i["\u0275mpd"](1073742336,a,a,[]),i["\u0275mpd"](256,Zn.ROUND_PROGRESS_DEFAULTS,Zn["\u02750"],[]),i["\u0275mpd"](1024,Cn.l,function(){return[[{path:":game",component:kn}]]},[])])})},haXk:function(e,t,n){var i;!function(a){"use strict";var o,s=1e9,r={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l=!0,u="[DecimalError] ",c=u+"Invalid argument: ",p=u+"Exponent out of range: ",h=Math.floor,d=Math.pow,g=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,f=7,b=h(9007199254740991/f),v={};function y(e,t){var n,i,a,o,s,r,u,c,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),l?x(t,h):t;if(c=t.d,s=e.e,a=t.e,u=(u=e.d).slice(),o=s-a){for(o<0?(i=u,o=-o,r=c.length):(i=c,a=s,r=u.length),o>(r=(s=Math.ceil(h/f))>r?s+1:r+1)&&(o=r,i.length=1),i.reverse();o--;)i.push(0);i.reverse()}for((r=u.length)-(o=c.length)<0&&(o=r,i=c,c=u,u=i),n=0;o;)n=(u[--o]=u[o]+c[o]+n)/m|0,u[o]%=m;for(n&&(u.unshift(n),++a),r=u.length;0==u[--r];)u.pop();return t.d=u,t.e=a,l?x(t,h):t}function k(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function C(e){var t,n,i,a=e.length-1,o="",s=e[0];if(a>0){for(o+=s,t=1;t<a;t++)(n=f-(i=e[t]+"").length)&&(o+=S(n)),o+=i;(n=f-(i=(s=e[t])+"").length)&&(o+=S(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,i,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(i=o.d.length)<(a=e.d.length)?i:a;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return i===a?0:i>a^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*f;if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return x(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return P(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,i=n.constructor,a=i.precision,s=a+5;if(void 0===e)e=new i(10);else if((e=new i(e)).s<1||e.eq(o))throw Error(u+"NaN");if(n.s<1)throw Error(u+(n.s?"NaN":"-Infinity"));return n.eq(o)?new i(0):(l=!1,t=w(I(n,s),I(e,s),s),l=!0,x(t,a))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?z(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,i=n.constructor,a=i.precision;if(!(e=new i(e)).s)throw Error(u+"NaN");return n.s?(l=!1,t=w(n,e,0,1).times(e),l=!0,n.minus(t)):x(new i(n),a)},v.naturalExponential=v.exp=function(){return M(this)},v.naturalLogarithm=v.ln=function(){return I(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):z(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,i,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=P(a)+1,n=(i=a.d.length-1)*f+1,i=a.d[i]){for(;i%10==0;i/=10)n--;for(i=a.d[0];i>=10;i/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,i,a,o,s,r=this,c=r.constructor;if(r.s<1){if(!r.s)return new c(0);throw Error(u+"NaN")}for(e=P(r),l=!1,0==(a=Math.sqrt(+r))||a==1/0?(((t=C(r.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=h((e+1)/2)-(e<0||e%2),i=new c(t=a==1/0?"1e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):i=new c(a.toString()),a=s=(n=c.precision)+3;;)if(i=(o=i).plus(w(r,o,s+2)).times(.5),C(o.d).slice(0,s)===(t=C(i.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(x(o,n+1,0),o.times(o).eq(r)){i=o;break}}else if("9999"!=t)break;s+=4}return l=!0,x(i,n)},v.times=v.mul=function(e){var t,n,i,a,o,s,r,u,c,p=this,h=p.constructor,d=p.d,g=(e=new h(e)).d;if(!p.s||!e.s)return new h(0);for(e.s*=p.s,n=p.e+e.e,(u=d.length)<(c=g.length)&&(o=d,d=g,g=o,s=u,u=c,c=s),o=[],i=s=u+c;i--;)o.push(0);for(i=c;--i>=0;){for(t=0,a=u+i;a>i;)r=o[a]+g[i]*d[a-i-1]+t,o[a--]=r%m|0,t=r/m|0;o[a]=(o[a]+t)%m|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,l?x(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),void 0===e?n:(k(e,0,s),void 0===t?t=i.rounding:k(t,0,8),x(n,e+P(n)+1,t))},v.toExponential=function(e,t){var n,i=this,a=i.constructor;return void 0===e?n=D(i,!0):(k(e,0,s),void 0===t?t=a.rounding:k(t,0,8),n=D(i=x(new a(i),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,i,a=this,o=a.constructor;return void 0===e?D(a):(k(e,0,s),void 0===t?t=o.rounding:k(t,0,8),n=D((i=x(new o(a),e+P(a)+1,t)).abs(),!1,e+P(i)+1),a.isneg()&&!a.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return x(new t(e),P(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,i,a,s,r=this,c=r.constructor,p=+(e=new c(e));if(!e.s)return new c(o);if(!(r=new c(r)).s){if(e.s<1)throw Error(u+"Infinity");return r}if(r.eq(o))return r;if(i=c.precision,e.eq(o))return x(r,i);if(s=r.s,(t=e.e)>=(n=e.d.length-1)){if((n=p<0?-p:p)<=9007199254740991){for(a=new c(o),t=Math.ceil(i/f+4),l=!1;n%2&&T((a=a.times(r)).d,t),0!==(n=h(n/2));)T((r=r.times(r)).d,t);return l=!0,e.s<0?new c(o).div(a):x(a,i)}}else if(s<0)throw Error(u+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,r.s=1,l=!1,a=e.times(I(r,i+12)),l=!0,(a=M(a)).s=s,a},v.toPrecision=function(e,t){var n,i,a=this,o=a.constructor;return void 0===e?i=D(a,(n=P(a))<=o.toExpNeg||n>=o.toExpPos):(k(e,1,s),void 0===t?t=o.rounding:k(t,0,8),i=D(a=x(new o(a),e,t),e<=(n=P(a))||n<=o.toExpNeg,e)),i},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(k(e,1,s),void 0===t?t=n.rounding:k(t,0,8)),x(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=P(e),n=e.constructor;return D(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,i=0,a=e.length;for(e=e.slice();a--;)e[a]=(n=e[a]*t+i)%m|0,i=n/m|0;return i&&e.unshift(i),e}function t(e,t,n,i){var a,o;if(n!=i)o=n>i?1:-1;else for(a=o=0;a<n;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function n(e,t,n){for(var i=0;n--;)e[n]-=i,e[n]=(i=e[n]<t[n]?1:0)*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(i,a,o,s){var r,l,c,p,h,d,g,b,v,y,k,C,w,M,O,S,I,_,z=i.constructor,D=i.s==a.s?1:-1,T=i.d,G=a.d;if(!i.s)return new z(i);if(!a.s)throw Error(u+"Division by zero");for(l=i.e-a.e,I=G.length,O=T.length,b=(g=new z(D)).d=[],c=0;G[c]==(T[c]||0);)++c;if(G[c]>(T[c]||0)&&--l,(C=null==o?o=z.precision:s?o+(P(i)-P(a))+1:o)<0)return new z(0);if(C=C/f+2|0,c=0,1==I)for(p=0,G=G[0],C++;(c<O||p)&&C--;c++)b[c]=(w=p*m+(T[c]||0))/G|0,p=w%G|0;else{for((p=m/(G[0]+1)|0)>1&&(G=e(G,p),T=e(T,p),I=G.length,O=T.length),M=I,y=(v=T.slice(0,I)).length;y<I;)v[y++]=0;(_=G.slice()).unshift(0),S=G[0],G[1]>=m/2&&++S;do{p=0,(r=t(G,v,I,y))<0?(k=v[0],I!=y&&(k=k*m+(v[1]||0)),(p=k/S|0)>1?(p>=m&&(p=m-1),1==(r=t(h=e(G,p),v,d=h.length,y=v.length))&&(p--,n(h,I<d?_:G,d))):(0==p&&(r=p=1),h=G.slice()),(d=h.length)<y&&h.unshift(0),n(v,h,y),-1==r&&(r=t(G,v,I,y=v.length))<1&&(p++,n(v,I<y?_:G,y)),y=v.length):0===r&&(p++,v=[0]),b[c++]=p,r&&v[0]?v[y++]=T[M]||0:(v=[T[M]],y=1)}while((M++<O||void 0!==v[0])&&C--)}return b[0]||b.shift(),g.e=l,x(g,s?o+P(g)+1:o)}}();function M(e,t){var n,i,a,s,r,u=0,c=0,h=e.constructor,g=h.precision;if(P(e)>16)throw Error(p+P(e));if(!e.s)return new h(o);for(null==t?(l=!1,r=g):r=t,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r+=Math.log(d(2,c))/Math.LN10*2+5|0,n=i=a=new h(o),h.precision=r;;){if(i=x(i.times(e),r),n=n.times(++u),C((s=a.plus(w(i,n,r))).d).slice(0,r)===C(a.d).slice(0,r)){for(;c--;)a=x(a.times(a),r);return h.precision=g,null==t?(l=!0,x(a,g)):a}a=s}}function P(e){for(var t=e.e*f,n=e.d[0];n>=10;n/=10)t++;return t}function O(e,t,n){if(t>e.LN10.sd())throw l=!0,n&&(e.precision=n),Error(u+"LN10 precision limit exceeded");return x(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function I(e,t){var n,i,a,s,r,c,p,h,d,g=1,m=e,f=m.d,b=m.constructor,v=b.precision;if(m.s<1)throw Error(u+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new b(0);if(null==t?(l=!1,h=v):h=t,m.eq(10))return null==t&&(l=!0),O(b,h);if(b.precision=h+=10,i=(n=C(f)).charAt(0),s=P(m),!(Math.abs(s)<15e14))return p=O(b,h+2,v).times(s+""),m=I(new b(i+"."+n.slice(1)),h-10).plus(p),b.precision=v,null==t?(l=!0,x(m,v)):m;for(;i<7&&1!=i||1==i&&n.charAt(1)>3;)i=(n=C((m=m.times(e)).d)).charAt(0),g++;for(s=P(m),i>1?(m=new b("0."+n),s++):m=new b(i+"."+n.slice(1)),c=r=m=w(m.minus(o),m.plus(o),h),d=x(m.times(m),h),a=3;;){if(r=x(r.times(d),h),C((p=c.plus(w(r,new b(a),h))).d).slice(0,h)===C(c.d).slice(0,h))return c=c.times(2),0!==s&&(c=c.plus(O(b,h+2,v).times(s+""))),c=w(c,new b(g),h),b.precision=v,null==t?(l=!0,x(c,v)):c;c=p,a+=2}}function _(e,t){var n,i,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;48===t.charCodeAt(i);)++i;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(i,a)){if(a-=i,e.e=h((n=n-i-1)/f),e.d=[],i=(n+1)%f,n<0&&(i+=f),i<a){for(i&&e.d.push(+t.slice(0,i)),a-=f;i<a;)e.d.push(+t.slice(i,i+=f));t=t.slice(i),i=f-t.length}else i-=a;for(;i--;)t+="0";if(e.d.push(+t),l&&(e.e>b||e.e<-b))throw Error(p+n)}else e.s=0,e.e=0,e.d=[0];return e}function x(e,t,n){var i,a,o,s,r,u,c,g,v=e.d;for(s=1,o=v[0];o>=10;o/=10)s++;if((i=t-s)<0)i+=f,a=t,c=v[g=0];else{if((g=Math.ceil((i+1)/f))>=(o=v.length))return e;for(c=o=v[g],s=1;o>=10;o/=10)s++;a=(i%=f)-f+s}if(void 0!==n&&(r=c/(o=d(10,s-a-1))%10|0,u=t<0||void 0!==v[g+1]||c%o,u=n<4?(r||u)&&(0==n||n==(e.s<0?3:2)):r>5||5==r&&(4==n||u||6==n&&(i>0?a>0?c/d(10,s-a):0:v[g-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return u?(o=P(e),v.length=1,v[0]=d(10,(f-(t=t-o-1)%f)%f),e.e=h(-t/f)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==i?(v.length=g,o=1,g--):(v.length=g+1,o=d(10,f-i),v[g]=a>0?(c/d(10,s-a)%d(10,a)|0)*o:0),u)for(;;){if(0==g){(v[0]+=o)==m&&(v[0]=1,++e.e);break}if(v[g]+=o,v[g]!=m)break;v[g--]=0,o=1}for(i=v.length;0===v[--i];)v.pop();if(l&&(e.e>b||e.e<-b))throw Error(p+P(e));return e}function z(e,t){var n,i,a,o,s,r,u,c,p,h,d=e.constructor,g=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),l?x(t,g):t;if(h=t.d,i=t.e,c=e.e,u=(u=e.d).slice(),s=c-i){for((p=s<0)?(n=u,s=-s,r=h.length):(n=h,i=c,r=u.length),s>(a=Math.max(Math.ceil(g/f),r)+2)&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for((p=(a=u.length)<(r=h.length))&&(r=a),a=0;a<r;a++)if(u[a]!=h[a]){p=u[a]<h[a];break}s=0}for(p&&(n=u,u=h,h=n,t.s=-t.s),a=h.length-(r=u.length);a>0;--a)u[r++]=0;for(a=h.length;a>s;){if(u[--a]<h[a]){for(o=a;o&&0===u[--o];)u[o]=m-1;--u[o],u[a]+=m}u[a]-=h[a]}for(;0===u[--r];)u.pop();for(;0===u[0];u.shift())--i;return u[0]?(t.d=u,t.e=i,l?x(t,g):t):new d(0)}function D(e,t,n){var i,a=P(e),o=C(e.d),s=o.length;return t?(n&&(i=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+S(i):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+S(-a-1)+o,n&&(i=n-s)>0&&(o+=S(i))):a>=s?(o+=S(a+1-s),n&&(i=n-a-1)>0&&(o=o+"."+S(i))):((i=a+1)<s&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-s)>0&&(a+1===s&&(o+="."),o+=S(i))),e.s<0?"-"+o:o}function T(e,t){if(e.length>t)return e.length=t,!0}function G(e){if(!e||"object"!=typeof e)throw Error(u+"Object expected");var t,n,i,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(i=e[n=a[t]])){if(!(h(i)===i&&i>=a[t+1]&&i<=a[t+2]))throw Error(c+n+": "+i);this[n]=i}if(void 0!==(i=e[n="LN10"])){if(i!=Math.LN10)throw Error(c+n+": "+i);this[n]=new this(i)}return this}(r=function e(t){var n,i,a;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):_(t,e.toString())}if("string"!=typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!g.test(e))throw Error(c+e);_(t,e)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=G,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(i=a[n++])||(t[i]=this[i]);return o.config(t),o}(r)).default=r.Decimal=r,o=new r(1),void 0===(i=(function(){return r}).call(t,n,t,e))||(e.exports=i)}()},"mXg+":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={crossword:{scaleMode:"SHOW_ALL",defaultGameWidth:1451,defaultGameHeight:1026,maxGameWidth:888,maxGameHeight:600,soundExtensionsPreference:["webm","ogg","m4a","mp3","aac","ac3","caf","flac","mp4","wav"],debug:!1},wordament:{scaleMode:"SHOW_ALL",defaultGameWidth:1451,defaultGameHeight:1026,resizeGap:190,maxGameWidth:888,maxGameHeight:600,soundExtensionsPreference:["webm","ogg","m4a","mp3","aac","ac3","caf","flac","mp4","wav"],debug:!1},wordTwister:{scaleMode:"SHOW_ALL",defaultGameWidth:1451,defaultGameHeight:1026,resizeGap:230,maxGameWidth:888,maxGameHeight:600,soundExtensionsPreference:["webm","ogg","m4a","mp3","aac","ac3","caf","flac","mp4","wav"],debug:!1},map:{scaleMode:"EXACT_FIT",defaultGameWidth:1128,defaultGameHeight:789,maxGameWidth:1200,maxGameHeight:840,soundExtensionsPreference:["webm","ogg","m4a","mp3","aac","ac3","caf","flac","mp4","wav"],debug:!1}}},vLqr:function(e,t,n){"use strict";var i=n("Q1FS");function a(e){e.subscriber.error(e.error)}t.throwError=function(e,t){return new i.Observable(t?function(n){return t.schedule(a,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}}}]);